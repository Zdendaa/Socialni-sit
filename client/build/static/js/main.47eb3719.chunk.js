(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{126:function(e,t,r){},261:function(e,t,r){"use strict";r.r(t);var n=r(2),a=r.n(n),s=r(112),c=r.n(s),o=(r(126),r(4)),i=r.n(o),l=r(6),u=r(5),d=r(15),j=r(22),b=function(e,t){switch(t.type){case"SET_USER":return Object(j.a)(Object(j.a)({},e),{},{user:t.payload});case"DELETE_USER":return Object(j.a)(Object(j.a)({},e),{},{user:null});case"CHANGE_PROFILE_IMG":return Object(j.a)(Object(j.a)({},e),{},{user:Object(j.a)(Object(j.a)({},e.user),{},{idOrUrlOfProfilePicture:t.payload})});case"CHANGE_COVER_IMG":return Object(j.a)(Object(j.a)({},e),{},{user:Object(j.a)(Object(j.a)({},e.user),{},{idOrUrlOfCoverPicture:t.payload})});case"SET_COLORS":return Object(j.a)(Object(j.a)({},e),{},{backgroundColor1:t.payload.backgroundColor1,backgroundColor2:t.payload.backgroundColor2,backgroundColor3:t.payload.backgroundColor3,backgroundColor4:t.payload.backgroundColor4});case"SET_ONLINE_FRIENDS":return Object(j.a)(Object(j.a)({},e),{},{onlineFriends:t.payload});case"SET_SOCKET":return Object(j.a)(Object(j.a)({},e),{},{socket:t.payload});case"SET_NUMBER_UNREADED_MESSAGES":return Object(j.a)(Object(j.a)({},e),{},{numberOfNewMessages:t.payload});default:return e}},f=r(1),O={user:localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")),backgroundColor1:localStorage.getItem("colors")?JSON.parse(localStorage.getItem("colors")).backgroundColor1:"#D88100",backgroundColor2:localStorage.getItem("colors")?JSON.parse(localStorage.getItem("colors")).backgroundColor2:"#F4F4F4",backgroundColor3:localStorage.getItem("colors")?JSON.parse(localStorage.getItem("colors")).backgroundColor3:"black",backgroundColor4:localStorage.getItem("colors")?JSON.parse(localStorage.getItem("colors")).backgroundColor4:"#ffffff",onlineFriends:null,socket:null,numberOfNewMessages:null},p=Object(n.createContext)(O),x=function(e){var t=e.children,r=Object(n.useReducer)(b,O),a=Object(u.a)(r,2),s=a[0],c=a[1];return Object(f.jsx)(p.Provider,{value:{user:s.user,backgroundColor1:s.backgroundColor1,backgroundColor2:s.backgroundColor2,backgroundColor3:s.backgroundColor3,backgroundColor4:s.backgroundColor4,onlineFriends:s.onlineFriends,socket:s.socket,numberOfNewMessages:s.numberOfNewMessages,setUser:function(e){c({type:"SET_USER",payload:e})},deleteUser:function(){c({type:"DELETE_USER"})},changeProfileImg:function(e){c({type:"CHANGE_PROFILE_IMG",payload:e})},changeCoverImg:function(e){c({type:"CHANGE_COVER_IMG",payload:e})},setColors:function(e){c({type:"SET_COLORS",payload:e})},setOnlineFriends:function(e){c({type:"SET_ONLINE_FRIENDS",payload:e})},setSocket:function(e){c({type:"SET_SOCKET",payload:e})},setNumberOfNewMessages:function(e){c({type:"SET_NUMBER_UNREADED_MESSAGES",payload:e})}},children:t})},m=r(7),h=r.n(m),v=r(74);r(263),r(147);v.a.initializeApp({apiKey:"AIzaSyDTtUnhCGoG6grg8kWAGf3eRqDLM8WqAYc",authDomain:"socialapp-37b2c.firebaseapp.com",projectId:"socialapp-37b2c",storageBucket:"socialapp-37b2c.appspot.com",messagingSenderId:"1050215924923",appId:"1:1050215924923:web:bb25243c81dff11f59959e",measurementId:"G-JDL1ECNSK7"});var g=v.a.storage(),C=function(e){return e+""},k=r(34),y=function(){var e=Object(n.useContext)(p),t=e.setUser,r=e.setColors,a=Object(d.g)(),s=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new v.a.auth.GoogleAuthProvider,e.next=3,v.a.auth().signInWithPopup(t).then(function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a,s,o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={email:t.user.email,password:null,isGoogleAccount:!0},e.next=4,h.a.post(C("/users/login"),n);case 4:return a=e.sent,e.next=7,h.a.get(C("userColors/ifUserColorsExist/".concat(a.data._id)));case 7:(s=e.sent).data&&(localStorage.setItem("colors",JSON.stringify({backgroundColor1:s.data.backgroundColor1,backgroundColor2:s.data.backgroundColor2,backgroundColor3:s.data.backgroundColor3,backgroundColor4:s.data.backgroundColor4})),r({backgroundColor1:s.data.backgroundColor1,backgroundColor2:s.data.backgroundColor2,backgroundColor3:s.data.backgroundColor3,backgroundColor4:s.data.backgroundColor4})),c(a),e.next=21;break;case 12:return e.prev=12,e.t0=e.catch(0),e.next=16,h.a.post(C("/images/createNew"),{url:t.user.photoURL});case 16:return o={username:t.user.displayName,email:t.user.email,password:null,idOrUrlOfProfilePicture:t.user.photoURL,isGoogleAccount:!0},e.next=19,h.a.post(C("/users/register"),o);case 19:l=e.sent,c(l);case 21:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(e){var r=e.data;localStorage.setItem("user",JSON.stringify(r)),t(r),a.push("/")};return Object(f.jsx)(f.Fragment,{children:Object(f.jsxs)("button",{onClick:s,className:"createGoogleButton inputRegister buttonRegister",children:[Object(f.jsx)(k.a,{className:"googleImg"}),Object(f.jsx)("span",{children:"Pokra\u010dovat skrze google \xfa\u010det"})]})})},N=r(12),w=r(48),S=r(52),I=r.n(S),_=r(19),P=r.n(_),U=function(){var e=Object(n.useContext)(p),t=e.setUser,r=e.backgroundColor1,a=e.backgroundColor2,s=Object(n.useState)(!1),c=Object(u.a)(s,2),o=c[0],j=c[1],b=Object(n.useState)(""),O=Object(u.a)(b,2),x=O[0],m=O[1],v=Object(n.useState)(""),g=Object(u.a)(v,2),k=g[0],S=g[1],_=Object(n.useState)(""),U=Object(u.a)(_,2),E=U[0],R=U[1],M=Object(n.useState)(""),A=Object(u.a)(M,2),F=A[0],D=A[1],L=Object(n.useState)(""),z=Object(u.a)(L,2),V=z[0],T=z[1],B=Object(n.useState)(""),q=Object(u.a)(B,2),W=q[0],G=q[1],J=Object(n.useState)(""),H=Object(u.a)(J,2),K=H[0],Q=H[1],Y=Object(n.useRef)(null),X=Object(n.useRef)(null),Z=Object(n.useRef)(null),$=Object(d.g)(),ee=function(){var e=Object(l.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t&&m(""!==r?null:"Jm\xe9no je povinn\xe9"),2===t&&(""!==r?te(!0,r===K):S("Heslo je povinn\xe9")),3===t&&R(""!==r?r===W?null:"Potvrzen\xed hesla mus\xed b\xfdt stejn\xe9 jako heslo":"Potvrzen\xed hesla je povinn\xe9"),4===t&&(""!==r?I.a.isEmail(r)?D(null):D("neplatn\xfd email"):D("email je povinn\xfd"));case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),te=function(e,t){e&&S(null),R(t?null:"Potvrzen\xed hesla mus\xed b\xfdt stejn\xe9 jako heslo")},re=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!!(F||k||E||x||""===F||""===k||""===!E||""===!x)){e.next=21;break}return j(!0),e.next=5,h.a.post(C("/users/ifUserExist"),{username:Y.current.value,email:Z.current.value});case 5:if(!e.sent.data){e.next=11;break}T("u\u017eivatel ji\u017e existuje s t\xedmto jm\xe9nem nebo emailem"),j(!1),e.next=19;break;case 11:return e.prev=11,e.next=14,ne();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),j(!1);case 19:e.next=25;break;case 21:""===x&&ee(1,""),""===k&&ee(2,""),""===E&&ee(3,""),""===F&&ee(4,"");case 25:case"end":return e.stop()}}),e,null,[[11,16]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(l.a)(i.a.mark((function e(){var r,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:Y.current.value,email:Z.current.value,password:X.current.value,isGoogleAccount:!1},e.next=3,h.a.post(C("/users/register"),r);case 3:n=e.sent,a=n.data,localStorage.setItem("user",JSON.stringify(a)),t(a),$.push("/");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"Register",children:Object(f.jsxs)("div",{className:"registerContainer",children:[Object(f.jsx)("div",{className:"rotateDiv1",style:{backgroundColor:r}}),Object(f.jsx)("div",{className:"rotateDiv2",style:{backgroundColor:r}}),Object(f.jsxs)("div",{className:"registerForm",children:[Object(f.jsx)("h2",{style:{color:r},children:"Registrace"}),Object(f.jsx)("input",{className:"inputRegister",onChange:function(e){return ee(1,e.target.value)},style:{backgroundColor:a,color:r},type:"name",ref:Y,placeholder:"jm\xe9no",required:!0}),""!==x&&x&&Object(f.jsx)("span",{className:"errorMessage",children:x}),Object(f.jsx)("input",{className:"inputRegister",onChange:function(e){return ee(4,e.target.value)},style:{backgroundColor:a,color:r},type:"email",ref:Z,placeholder:"email",required:!0}),""!==F&&F&&Object(f.jsx)("span",{className:"errorMessage",children:F}),Object(f.jsx)("input",{className:"inputRegister",onChange:function(e){ee(2,e.target.value),G(e.target.value)},style:{backgroundColor:a,color:r},type:"password",ref:X,placeholder:"heslo",required:!0}),""!==k&&k&&Object(f.jsx)("span",{className:"errorMessage",children:k}),Object(f.jsx)("input",{className:"inputRegister",onChange:function(e){ee(3,e.target.value),Q(e.target.value)},style:{backgroundColor:a,color:r},type:"password",placeholder:"potrvdit heslo",required:!0}),""!==E&&E&&Object(f.jsx)("span",{className:"errorMessage",children:E}),""!==V&&V&&Object(f.jsx)("span",{className:"errorMessage",children:V}),Object(f.jsx)("button",{className:"buttonRegister inputRegister",style:{backgroundColor:r,color:"white"},onClick:re,children:o?Object(f.jsx)(P.a,{color:a,size:10}):Object(f.jsx)("span",{children:"Registrovat"})}),Object(f.jsx)("span",{children:"nebo"}),Object(f.jsx)(y,{}),Object(f.jsx)(N.b,{to:"/login",className:"goToLogInButton inputRegister",style:{backgroundColor:r},children:o?Object(f.jsx)(P.a,{color:a,size:10}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:"P\u0159\xedhl\xe1sit se"})," ",Object(f.jsx)(w.a,{className:"ArrowImg"})]})})]})]})})},E=r(17),R=r(114),M=function(e){var t=e.addSharedPost,r=e.idOfUser,a=e.idOfPost,s=Object(n.useContext)(p),c=s.backgroundColor4,o=s.backgroundColor1,d=s.user,j=Object(n.useState)(!1),b=Object(u.a)(j,2),O=b[0],x=b[1],m=Object(n.useState)(null),v=Object(u.a)(m,2),g=v[0],k=v[1],y=Object(n.useState)(!1),N=Object(u.a)(y,2),w=N[0],S=N[1];Object(n.useEffect)((function(){I()}),[]);var I=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={userId:d._id,idOfSharingToUser:r,idOfMainPost:a},e.next=3,h.a.post(C("/sharedPosts/ifAlreadyShared"),t);case 3:n=e.sent,k(n.data?n.data._id:null),x(!!n.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,t(r,O,a,g).then(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I().then((function(){S(!1),x(!O)}));case 2:case"end":return e.stop()}}),e)}))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)("button",{onClick:Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),className:"shareButton opacity",style:{backgroundColor:o,color:c},children:w?Object(f.jsx)(P.a,{color:c,size:10}):O?"sd\xedleno":"sd\xedlej"})})},A=r(28),F=function(e){var t=e.friends,r=e.unReaded,a=e.idOfUser,s=e.style,c=e.mobile,o=e.sharing,d=e.addSharedPost,j=e.idOfPost,b=e.sharingPost,O=e.createdAt,x=e.children,m=Object(n.useContext)(p),v=m.backgroundColor3,g=m.backgroundColor1,k=m.onlineFriends,y=Object(n.useState)([]),w=Object(u.a)(y,2),S=w[0],I=w[1],_=Object(n.useState)(null),P=Object(u.a)(_,2),U=P[0],E=P[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===t||void 0===t?void 0:t.some((function(e){return e._id===a})))){e.next=6;break}r=null===t||void 0===t?void 0:t.filter((function(e){return e._id===a}))[0],I(r),E(null===k||void 0===k?void 0:k.some((function(e){return e.userId===r._id}))),e.next=11;break;case 6:return e.next=8,h.a.get(C("/users/getUser/".concat(a)));case 8:n=e.sent,I(n.data),E(null===k||void 0===k?void 0:k.some((function(e){return e.userId===n.data._id})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[a,k]),Object(f.jsxs)("div",{style:o&&{display:"flex",alignItems:"center",justifyContent:"space-between",marginTop:"5px"},children:[Object(f.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[Object(f.jsxs)(N.b,{to:"/profile/".concat(a),className:"userProfile",children:[Object(f.jsxs)("div",{className:"mainImg",children:[Object(f.jsx)("img",{src:S.idOrUrlOfProfilePicture?S.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"",style:s,referrerPolicy:"no-referrer"}),U&&Object(f.jsx)("div",{className:"online",style:r?{border:"2px solid "+g}:{border:"2px solid white"}})]}),!c&&Object(f.jsxs)("span",{style:{color:v},children:[null===S||void 0===S?void 0:S.username," ",b&&Object(f.jsx)("span",{style:{color:g},children:"sd\xedl\xed"})]})]}),x,O&&Object(f.jsx)("span",{style:{color:v},children:Object(A.format)(O,"myLanguage")})]}),o&&Object(f.jsx)(M,{addSharedPost:d,idOfUser:a,idOfPost:j})]})},D=r(75),L=function(){var e=Object(n.useContext)(p),t=e.user,r=e.backgroundColor1,a=Object(n.useState)(!1),s=Object(u.a)(a,2),c=s[0],o=s[1],d=Object(n.useState)([]),j=Object(u.a)(d,2),b=j[0],O=j[1],x=function(){var e=Object(l.a)(i.a.mark((function e(r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==r){e.next=4;break}O([]),e.next=8;break;case 4:return e.next=6,h.a.get(C("/users/getSearchPeople/".concat(r)));case 6:n=e.sent,O(n.data.filter((function(e){return e._id!==t._id})));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsx)(R.a,{className:c?"none":"searchIcon scaled pointer",onClick:function(){return o(!c)}}),Object(f.jsxs)("div",{className:c?"resultSearchContainer":"none",children:[Object(f.jsx)("input",{onChange:function(e){return x(e.target.value)},type:"text",className:"searchBarInput",placeholder:"vyhledejte u\u017eivatel\xe9...",style:c?{width:"250px"}:{width:"0px"}}),Object(f.jsx)(D.b,{onClick:function(){return o(!c)},className:"stopSearchPeople scaled pointer",style:{color:r}}),Object(f.jsx)("div",{className:"mainDivSearch",children:null===b||void 0===b?void 0:b.map((function(e){return Object(f.jsx)("div",{style:{margin:"6px"},children:Object(f.jsx)(F,{idOfUser:e._id,style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"},children:Object(f.jsx)(N.b,{to:"/messenger/".concat(e._id,"/0"),children:Object(f.jsx)(w.c,{className:"searchIcon scaled",style:{color:r}})})},e._id)})}))})]})]})},z=function(){var e=Object(n.useContext)(p),t=e.user,r=e.socket,a=e.numberOfNewMessages,s=e.setNumberOfNewMessages,c=e.backgroundColor1,o=Object(n.useState)(),d=Object(u.a)(o,2),j=d[0],b=d[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=8;break}return e.next=3,h.a.post(C("/messages/getNumberOfUnreadedMessagesInMessenger"),{myId:t._id});case 3:r=e.sent,s(r.data),b(r.data),e.next=9;break;case 8:b(a);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){b(a)}),[a]),Object(n.useEffect)((function(){null===r||void 0===r||r.on("getMessage",function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=window.location.href.split("/")[5],t.idOfChat!==r&&b((function(e){return s("number"==typeof e?e+1:1),e+1}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[r]),Object(f.jsxs)(N.b,{to:"/messenger/".concat(t._id,"/0"),className:"scaled pointer",style:{textDecoration:"none",marginLeft:"10px",position:"relative"},children:[Object(f.jsx)(D.a,{className:"searchIcon",style:{color:c}}),j>0&&Object(f.jsx)("div",{className:"numberOfNewMessagesinMessenger",children:Object(f.jsx)("span",{children:j})})]})},V=function(){var e=Object(n.useContext)(p),t=e.user,r=e.socket,a=e.setColors,s=e.deleteUser,c=e.backgroundColor1,o=e.backgroundColor4,i=Object(d.g)();return Object(f.jsxs)("div",{className:"topBar",style:{backgroundColor:"white",color:c,borderBottom:"2px solid"+c},children:[Object(f.jsx)(N.b,{to:"/",style:{textDecoration:"none",color:c},children:Object(f.jsx)("p",{className:"weight800",style:{cursor:"pointer"},children:"Soci\xe1ln\xed s\xed\u0165"})}),Object(f.jsxs)("div",{className:"iconsSearchAndMessenger",style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"row"},children:[Object(f.jsx)(L,{}),Object(f.jsx)(z,{})]}),Object(f.jsxs)("div",{className:"topBarProfile",children:[Object(f.jsxs)(N.b,{to:"/profile/".concat(t._id),className:"userProfile",style:{color:c},children:[Object(f.jsx)("p",{className:"weight800",children:t.username}),Object(f.jsx)("img",{className:"profilePicture",src:t.idOrUrlOfProfilePicture?t.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"",referrerPolicy:"no-referrer"})]}),Object(f.jsxs)("div",{className:"containerLogOut",children:[Object(f.jsx)("button",{className:"buttonLogOut opacity",style:{backgroundColor:c,color:o},onClick:function(){localStorage.removeItem("user"),localStorage.removeItem("colors"),s(),a({backgroundColor1:"#D88100",backgroundColor2:"#F4F4F4",backgroundColor3:"black",backgroundColor4:"#ffffff"}),r.disconnect(),i.push("/register")},children:"odhl\xe1sit se"}),Object(f.jsx)(N.b,{to:"/settings",className:"buttonLogOut opacity",style:{backgroundColor:c,color:o,textDecoration:"none",fontSize:"13.33px"},children:"nasatven\xed profilu"})]})]})]})},T=r(270),B=r(267),q=(r(244),r(269)),W=r(266);q.a.use([W.a]);var G=function(e){var t=e.users,r=e.type,n=e.classBorderRadius;return Object(f.jsx)(f.Fragment,{children:1===r?Object(f.jsx)("div",{className:"swiperOnline ".concat(n||"mobile"),children:Object(f.jsx)(T.a,{slidesPerView:6,spaceBetween:0,pagination:{clickable:!0},className:"mySwiper",children:null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)(B.a,{children:Object(f.jsx)(F,{idOfUser:e._id,friends:t,mobile:!0,style:{width:"42px",height:"42px",borderRadius:"50%",objectFit:"cover"}},e._id)},e._id)}))})}):Object(f.jsx)("div",{className:"onlineListOfUsers",children:null===t||void 0===t?void 0:t.map((function(e){return Object(f.jsx)("div",{className:"pc",children:Object(f.jsx)(F,{idOfUser:e._id,friends:t,mobile:!1,style:{width:"42px",height:"42px",borderRadius:"50%",objectFit:"cover"}},e._id)},e._id)}))})})},J=function(){var e=Object(l.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=9;break}return e.prev=1,e.next=4,g.ref(r).put(t).then((function(){console.log("soubor ulozen v ulozisti")}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,r){return e.apply(this,arguments)}}(),H=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.ref(t).getDownloadURL();case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=r(35),Q=r(115),Y=r.n(Q),X=r(76),Z=function(e){var t=e.setValOfText,r=Object(n.useContext)(p),a=r.backgroundColor1,s=r.backgroundColor4,c=Object(n.useState)(null),o=Object(u.a)(c,2),i=(o[0],o[1]),l=Object(n.useState)(!1),d=Object(u.a)(l,2),j=d[0],b=d[1];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:"buttonsForVariantsMessage opacity",onClick:function(){return b(!j)},style:{color:s,backgroundColor:a},children:Object(f.jsx)(X.b,{className:"reactIcon"})}),j&&Object(f.jsx)("div",{className:"pickerReact",children:Object(f.jsx)(Y.a,{onEmojiClick:function(e,r){i(r),t((function(e){return e+r.emoji}))}})})]})},$=r(49),ee=function(e){var t=e.setPhotoFile,r=Object(n.useContext)(p),a=r.backgroundColor1,s=r.backgroundColor4,c=Object(n.useState)(),o=Object(u.a)(c,2),d=o[0],j=o[1],b=function(){var e=Object(l.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(r),t(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"photoFileUpload",id:"inputfileRegister",className:"buttonsForVariantsMessage opacity",style:{color:s,backgroundColor:a},children:Object(f.jsx)($.c,{className:"reactIcon"})}),Object(f.jsx)("input",{id:"photoFileUpload",type:"file",accept:"image/*",onChange:function(e){b(e.target.files[0])},hidden:!0},d||"")]})},te=r(116),re=function(e){var t=e.setVideoFile,r=Object(n.useContext)(p),a=r.backgroundColor1,s=r.backgroundColor4,c=Object(n.useState)(),o=Object(u.a)(c,2),d=o[0],j=o[1],b=function(){var e=Object(l.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(r),t(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("label",{htmlFor:"videoFileUpload",id:"inputfileRegister",className:"buttonsForVariantsMessage opacity",style:{color:s,backgroundColor:a},children:Object(f.jsx)(te.a,{className:"reactIcon"})}),Object(f.jsx)("input",{id:"videoFileUpload",type:"file",accept:"video/*",onChange:function(e){b(e.target.files[0])},hidden:!0},d||"")]})},ne=function(e){var t,r=e.friends,a=Object(n.useContext)(p),s=a.user,c=a.socket,o=a.backgroundColor1,d=a.backgroundColor2,j=a.backgroundColor4,b=Object(n.useState)(null),O=Object(u.a)(b,2),x=O[0],m=O[1],v=Object(n.useState)(null),g=Object(u.a)(v,2),k=g[0],y=g[1],w=Object(n.useState)(""),S=Object(u.a)(w,2),_=S[0],U=S[1],E=Object(n.useState)(null),R=Object(u.a)(E,2),M=R[0],A=R[1],F=Object(n.useState)(""),D=Object(u.a)(F,2),L=D[0],z=D[1],V=Object(n.useState)(!1),T=Object(u.a)(V,2),B=T[0],q=T[1];Object(n.useEffect)((function(){X(null===x||void 0===x?void 0:x.name),console.log(x)}),[x]),Object(n.useEffect)((function(){X(L)}),[L]);var W=function(e){return U(e),e?(A(null),!1):(A("toto pole je povinn\xe9"),!0)},G=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W(_)){e.next=2;break}return e.abrupt("return");case 2:if(q(!0),!(t=x&&"object"===typeof x?x:null)){e.next=10;break}return r="posts/"+s.username+"/"+t.name+Math.floor(Date.now()/1e3),e.next=8,J(t,r).then(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload img succesfully"),e.next=3,H(r);case 3:return t=e.sent,e.next=6,Q(t);case 6:case"end":return e.stop()}}),e)}))));case 8:e.next=12;break;case 10:return e.next=12,Q(null);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={userId:s._id,desc:_,urlOfImg:1===k?I.a.isURL(L)?L:t||null:null,urlOfVideo:2===k?I.a.isURL(L)?L:t||null:null},e.next=4,h.a.post(C("/posts/addPost"),n);case 4:a=e.sent,console.log(r),0===r.length?window.location.reload():r.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t._id,5,null,a.data._id,"p\u0159idal/a nov\xfd p\u0159\xedsp\u011bvek");case 2:console.log(n),r.length-1===n&&window.location.reload();case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,a,o){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(C("/notifications/addNotification"),{senderId:s._id,recieverId:t,type:r,url:n,idOfPost:a,text:o});case 2:l=e.sent,c.emit("sendNotification",{id:l.data._id,senderId:s._id,recieverId:t,type:r,url:n,idOfPost:a,readed:!1,text:o});case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),X=function(e){var t=null===e||void 0===e?void 0:e.toLowerCase();if((null===t||void 0===t?void 0:t.includes("youtube"))||(null===t||void 0===t?void 0:t.includes("mp4"))||(null===t||void 0===t?void 0:t.includes("avi"))){if(y(2),(null===t||void 0===t?void 0:t.includes("youtube"))&&!(null===t||void 0===t?void 0:t.includes("embed"))){var r=e.split("v=");r=r[1].split("&"),z("https://www.youtube.com/embed/"+r[0])}else z(e);console.log(2)}else y(1)};return Object(f.jsx)("div",{className:"addNewPost",children:Object(f.jsxs)("div",{className:"addNewPostContainer",children:[Object(f.jsxs)("div",{className:"topAddNewPost",children:[Object(f.jsxs)("div",{className:"topAddNewPostLeft",children:[Object(f.jsx)(N.b,{to:"/profile/".concat(s._id),style:{display:"flex",alignItems:"center"},children:Object(f.jsx)("img",{className:"profilePicture",src:s.idOrUrlOfProfilePicture?s.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"",referrerPolicy:"no-referrer"})}),Object(f.jsx)("input",{type:"text",value:_,onChange:function(e){return W(e.target.value)},className:"inputAddNewPost",placeholder:"co se v\xe1m hon\xed hlavou..."})]}),Object(f.jsx)("div",{className:"inputEmojiPickerContainer postEmojiContainer",children:Object(f.jsx)(Z,{setValOfText:W})})]}),M&&Object(f.jsx)("div",{className:"bottomAddNewPost",children:Object(f.jsx)("span",{className:"errorMessage",children:M})}),(x||""!==L)&&(1===k?Object(f.jsxs)("div",{className:"imgShowContainerAddPost",children:[Object(f.jsx)("img",{src:x?URL.createObjectURL(x):I.a.isURL(L)&&L,alt:"video/obr\xe1zek nelze naj\xedt",className:"imgShowAddPost",referrerPolicy:"no-referrer"}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(e){m(null),z("")}})]}):(null===x||void 0===x||null===(t=x.name)||void 0===t?void 0:t.includes(".gif"))||L.includes("youtu")||L.includes(".gif")?Object(f.jsxs)("div",{className:"imgShowContainerAddPost",children:[Object(f.jsx)("iframe",{src:x?URL.createObjectURL(x):I.a.isURL(L)&&L,alt:"video/obr\xe1zek nelze naj\xedt",className:"videoShowAddPost",referrerPolicy:"no-referrer"}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(e){m(null),z("")}})]}):Object(f.jsxs)("div",{className:"imgShowContainerAddPost",children:[Object(f.jsx)("video",{className:"videoShowAddPost",controls:!0,children:Object(f.jsx)("source",{src:x?URL.createObjectURL(x):I.a.isURL(L)&&L,type:"video/mp4"})}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(e){m(null),z("")}})]})),Object(f.jsx)("hr",{className:"lineNewPost",style:{backgroundColor:o,width:"100%"}}),Object(f.jsxs)("div",{className:"middleAddNewPost",children:[Object(f.jsxs)("div",{className:"actionsMethod",children:[Object(f.jsx)(ee,{setPhotoFile:m}),Object(f.jsx)(re,{setVideoFile:m})]}),Object(f.jsx)("span",{children:"nebo"}),Object(f.jsx)("input",{type:"text",onChange:function(e){z(e.target.value)},className:"inputAddNewPost inputUlrImgAddNewPost",style:{backgroundColor:"black",color:"white"},placeholder:"url obr\xe1zku / videa..."})]}),Object(f.jsx)("hr",{className:"lineNewPost",style:{backgroundColor:o,width:"75%"}}),Object(f.jsx)("div",{className:"bottomAddNewPost",children:Object(f.jsx)("button",{style:{backgroundColor:o,color:j},className:"inputImgAddPost opacity",onClick:G,children:Object(f.jsxs)("span",{children:[" ",B?Object(f.jsx)(P.a,{color:d,size:10}):"p\u0159\xeddat p\u0159\xedsp\u011bvek"," "]})})})]})})},ae=function(e,t,r){return[["pr\xe1v\u011b te\u010f","right now"],["p\u0159ed %s sekundama","in %s seconds"],["p\u0159ed jednou minutou ","in 1 minute"],["p\u0159ed %s minutama","in %s minutes"],["p\u0159ed jednou hodinou","in 1 hour"],["p\u0159ed %s hodinama","in %s hours"],["p\u0159ed jedn\xedm dnem","in 1 day"],["p\u0159ed %s dny","in %s days"],["p\u0159ed jedn\xedm t\xfddnem","in 1 week"],["p\u0159ed %s t\xfddnama","in %s weeks"],["p\u0159ed jend\xedm m\u011bs\xedcem","in 1 month"],["p\u0159ed %s m\u011bs\xedcemi","in %s months"],["p\u0159ed jend\xedm rokem","in 1 year"],["p\u0159ed %s lety","in %s years"]][t]},se=r(117),ce=r(45),oe=function e(t){var r=t.comment,a=t.addComment,s=t.commentMain,c=Object(n.useContext)(p),o=c.user,d=c.backgroundColor1,j=c.backgroundColor2,b=c.backgroundColor3,O=Object(n.useState)(!1),x=Object(u.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)(""),y=Object(u.a)(g,2),w=y[0],S=y[1],I=Object(n.useState)([]),_=Object(u.a)(I,2),U=_[0],E=_[1],R=Object(n.useState)(r.idOfLikes.includes(o._id)),M=Object(u.a)(R,2),F=M[0],D=M[1],L=Object(n.useState)(r.idOfLikes.length),z=Object(u.a)(L,2),V=z[0],T=z[1],B=Object(n.useState)(!1),q=Object(u.a)(B,2),W=q[0],G=q[1],J=(r.children||[]).map((function(t){return Object(f.jsx)(e,{comment:t,commentMain:s,addComment:a},t._id)}));Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/users/getUser/".concat(r.idOfUser)));case 2:t=e.sent,E(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r.idOfUser]);var H=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(F?function(e){return e-1}:function(e){return e+1}),D(!F),e.next=4,h.a.put(C("/comments/addOrRemoveLike/".concat(r._id,"/").concat(o._id)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"comment",children:[Object(f.jsxs)("div",{className:"userCommentContainer",children:[Object(f.jsxs)("div",{className:"userCommentTop",children:[Object(f.jsxs)(N.b,{to:"/profile/".concat(U._id),style:{display:"flex",alignItems:"center",textDecoration:"none",color:"black",marginRight:"8px"},children:[Object(f.jsx)("img",{className:"imgUserComment",src:U.idOrUrlOfProfilePicture?U.idOrUrlOfProfilePicture:"img/anonymous.png",alt:"",referrerPolicy:"no-referrer"}),Object(f.jsx)("span",{style:{color:b},children:U.username})]}),Object(f.jsx)("span",{style:{color:b},children:Object(A.format)(r.createdAt,"myLanguage")})]}),Object(f.jsx)("div",{className:"userCommentMid",children:Object(f.jsx)("span",{style:{color:b},children:r.value})}),Object(f.jsxs)("div",{className:"userCommentBottom",children:[Object(f.jsxs)("span",{style:{color:b},children:[F?Object(f.jsx)(k.b,{style:{fontSize:"25px"},className:"scaled pointer",onClick:H}):Object(f.jsx)(k.c,{style:{fontSize:"25px"},className:"scaled pointer",onClick:H}),V]}),Object(f.jsxs)("span",{onClick:function(){return v(!m)},className:"pointer",style:{color:b},children:["po\u010det odpov\u011bd\xed ",r.children?r.children.length:"0"]})]})]}),m&&Object(f.jsxs)("div",{className:"commentsContainer",children:[Object(f.jsxs)("div",{className:"addComment",children:[Object(f.jsx)("input",{className:"addCommentInput",style:{backgroundColor:j},type:"text",value:w,onChange:function(e){return S(e.target.value)},placeholder:"co m\xe1\u0161 na mysli..."}),Object(f.jsx)("button",{className:"addCommentButton",style:{backgroundColor:d},onClick:function(){a(w,r._id,o._id,G).then((function(){S("")}))},children:W?Object(f.jsx)(P.a,{color:j,size:10}):"p\u0159idej koment\xe1\u0159"})]}),Object(f.jsx)("ul",{children:J})]})]})},ie=function(e){var t=e.post,r=e.sendNotification,a=Object(n.useContext)(p),s=a.user,c=a.backgroundColor1,o=a.backgroundColor2,d=a.backgroundColor3,j=a.backgroundColor4,b=Object(n.useState)([]),O=Object(u.a)(b,2),x=O[0],m=O[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),k=g[0],y=g[1],N=Object(n.useState)(""),w=Object(u.a)(N,2),S=w[0],I=w[1],_=Object(n.useState)([]),U=Object(u.a)(_,2),E=U[0],R=U[1],M=Object(n.useState)(!1),A=Object(u.a)(M,2),F=A[0],D=A[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/comments/getComments/".concat(t._id)));case 2:r=e.sent,m(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t._id]),Object(n.useEffect)((function(){R(function(e){e=e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)}));var t={};return e.forEach((function(e){return t[e._id]=e})),e.forEach((function(e){if(null!==e.idOfparentComment){var r=t[e.idOfparentComment];(r.children=r.children||[]).push(e)}})),e.filter((function(e){return null===e.idOfparentComment}))}(x))}),[x]);var L=function(){var e=Object(l.a)(i.a.mark((function e(n,a,s,c){var o,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,c(!0),o={value:n,idOfPost:t._id,idOfparentComment:a,idOfUser:s},e.next=7,h.a.post(C("/comments/addComment"),o);case 7:return e.next=9,h.a.get(C("/comments/getComments/".concat(t._id)));case 9:return l=e.sent,m(l.data),r(t.userId,2,"",t._id,"p\u0159idal/a koment\xe1\u0159"),c(!1),I(""),e.abrupt("return",!0);case 17:return e.prev=17,e.t0=e.catch(2),e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,r,n,a){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{children:[Object(f.jsxs)("span",{onClick:function(){return y(!k)},className:"pointer",style:{color:d},children:["po\u010det koment\xe1\u0159\u016f ",x.length," ",k?Object(f.jsx)(ce.d,{}):Object(f.jsx)(ce.b,{})]}),k&&Object(f.jsxs)("div",{className:"commentsContainer",children:[Object(f.jsxs)("div",{className:"addComment",children:[Object(f.jsx)("input",{className:"addCommentInput",style:{backgroundColor:o},type:"text",value:S,onChange:function(e){return I(e.target.value)},placeholder:"co m\xe1\u0161 na mysli..."}),Object(f.jsx)("button",{className:"addCommentButton",style:{backgroundColor:c},onClick:function(){return L(S,null,s._id,D)},children:F?Object(f.jsx)(P.a,{color:j,size:10}):"p\u0159idej koment\xe1\u0159"})]}),E.map((function(e){return Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(oe,{comment:e,commentMain:e,addComment:L},e._id)})}))]})]})},le=r(268),ue=function(e){var t=e.classNameMain,r=e.classNameContainer,n=e.children,a=e.setVisible;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(le.a.div,{className:t,initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{duration:.3},children:Object(f.jsxs)("div",{className:r,children:[n,Object(f.jsx)(K.a,{className:"scaled removeImgShow",onClick:function(){return a(!1)}})]})}),Object(f.jsx)("div",{className:"wallPaperNotWorking"})]})},de=function(e){var t=e.setifSharing,r=e.idOfPost,a=e.sendNotification,s=Object(n.useContext)(p),c=s.user,o=s.backgroundColor1,d=Object(n.useState)([]),j=Object(u.a)(d,2),b=j[0],O=j[1],x=Object(n.useState)(""),m=Object(u.a)(x,2),v=m[0],g=m[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/users/getAllFriends/".concat(c._id));case 2:t=e.sent,O(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c._id]);var k=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,s){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=13;break}return e.next=3,h.a.post(C("/sharedPosts/removeSharedPost"),{idOfSharedPost:s});case 3:if(!t){e.next=9;break}return console.log("zrusil sdileni s id"+t),e.next=7,a(t,3,null,n,"odebral sd\xedlen\xed",!0);case 7:e.next=11;break;case 9:b.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t._id,3,null,n,"odebral sd\xedlen\xed",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),console.log("zrusil sdileni bez id");case 11:e.next=24;break;case 13:return o={userId:c._id,idOfSharingToUser:t,desc:v,idOfMainPost:n},e.next=16,h.a.post(C("/sharedPosts/addSharedPost"),o);case 16:if(!t){e.next=22;break}return console.log("sdili s id"),e.next=20,a(t,3,null,n,"sd\xedl\xed",!0);case 20:e.next=24;break;case 22:console.log("sdili bez id"),b.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t._id,3,null,n,"sd\xedl\xed",!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 24:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}();return Object(f.jsxs)(ue,{classNameMain:"Share",classNameContainer:"shareContainer",setVisible:t,children:[Object(f.jsx)("h4",{style:{color:o},children:"Sd\xedlet v\u0161em p\u0159\xe1tel\u016fm"}),Object(f.jsxs)("div",{className:"shareMainBox",children:[Object(f.jsx)("input",{type:"text",className:"inputValShare",placeholder:"napsat n\u011bco k dan\xe9mu sd\xedlen\xe9mu p\u0159\xedsp\u011bvku...",onChange:function(e){return g(e.target.value)},value:v}),Object(f.jsx)(Z,{setValOfText:g}),Object(f.jsx)(M,{addSharedPost:k,idOfPost:r})]}),Object(f.jsx)("h4",{style:{color:o},children:"Nebo sd\xedlet pouze n\u011bkter\xfdm"}),Object(f.jsx)("div",{className:"shareAllFriends",children:null===b||void 0===b?void 0:b.map((function(e){return Object(f.jsx)(F,{idOfUser:e._id,style:{width:"40px",height:"40px",borderRadius:"50%",objectFit:"cover"},sharing:!0,addSharedPost:k,idOfPost:r})}))})]})},je=r(271),be=function(e){var t,r,a=e.post,s=e.userOfPost;Object(A.register)("myLanguage",ae);var c=Object(n.useContext)(p),o=c.user,d=c.socket,j=c.backgroundColor1,b=c.backgroundColor3,O=c.onlineFriends,x=Object(n.useState)(a.idOfLikes.length),m=Object(u.a)(x,2),v=m[0],g=m[1],y=Object(n.useState)(a.idOfLikes.includes(o._id)),w=Object(u.a)(y,2),S=w[0],I=w[1],_=Object(n.useState)(!1),P=Object(u.a)(_,2),U=P[0],E=P[1],R=Object(n.useState)(s),M=Object(u.a)(R,2),D=M[0],L=M[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/users/getUser/".concat(a.userId)));case 2:t=e.sent,L(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!s&&e()}),[a.userId]);var z=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,s,c,l){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o._id!==a.userId||l){e.next=2;break}return e.abrupt("return");case 2:return console.log(t),e.next=5,h.a.post(C("/notifications/addNotification"),{senderId:o._id,recieverId:t,type:r,url:n,idOfPost:s,text:c});case 5:d.emit("sendNotification",{senderId:o._id,recieverId:t,type:r,url:n,idOfPost:s,readed:!1,text:c});case 6:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s,c){return e.apply(this,arguments)}}(),V=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=S?"odebral/a like":"p\u0159idal/a like",g(S?function(e){return e-1}:function(e){return e+1}),I(!S),e.next=5,h.a.put(C("/posts/addOrRemoveLike/".concat(a._id)),{userId:o._id});case 5:return e.next=7,z(a.userId,1,null,a._id,t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"post",children:[Object(f.jsxs)("div",{className:"postContainer",children:[(null===a||void 0===a?void 0:a.sharedUserId)&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{style:{marginBottom:"15px"},children:[Object(f.jsx)(F,{idOfUser:null===a||void 0===a?void 0:a.sharedUserId,sharingPost:!0,createdAt:a.createdAt,style:{width:"42px",height:"42px",objectFit:"cover",borderRadius:"50%"}})," "]}),Object(f.jsx)("span",{style:{color:b},children:a.sharedDesc}),Object(f.jsx)("hr",{className:"lineNewPost",style:{backgroundColor:j}})]}),Object(f.jsxs)("div",{className:"userContainerPost",children:[Object(f.jsxs)(N.b,{to:"/profile/".concat(null===D||void 0===D?void 0:D._id),className:"userProfile",children:[Object(f.jsxs)("div",{className:"mainImg",children:[Object(f.jsx)("img",{className:"profilePicture",src:(null===D||void 0===D?void 0:D.idOrUrlOfProfilePicture)?null===D||void 0===D?void 0:D.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"",referrerPolicy:"no-referrer"}),(null===O||void 0===O?void 0:O.some((function(e){return e.userId===(null===D||void 0===D?void 0:D._id)})))&&Object(f.jsx)("div",{className:"online",style:{border:"2px solid white"}})]}),Object(f.jsx)("span",{style:{color:b},children:null===D||void 0===D?void 0:D.username}),(null===a||void 0===a?void 0:a.newPicture)&&Object(f.jsx)("span",{style:{color:j},children:"p\u0159idal/a novou fotku"})]}),(null===a||void 0===a?void 0:a.sharedPostCreatedAt)?Object(f.jsx)("span",{style:{color:b},children:Object(A.format)(a.sharedPostCreatedAt,"myLanguage")}):Object(f.jsx)("span",{style:{color:b},children:Object(A.format)(a.createdAt,"myLanguage")})]}),Object(f.jsxs)("div",{className:"postContent",children:[Object(f.jsx)("span",{className:"postDescContent",style:{color:b},children:a.desc}),a.urlOfImg&&Object(f.jsx)("img",{className:"postImg",src:a.urlOfImg,alt:"",referrerPolicy:"no-referrer"}),a.urlOfVideo&&((null===a||void 0===a||null===(t=a.urlOfVideo)||void 0===t?void 0:t.includes("youtu"))||(null===a||void 0===a||null===(r=a.urlOfVideo)||void 0===r?void 0:r.includes(".gif"))?Object(f.jsx)("iframe",{autoPlay:1,className:"videoShowAddPost videoMargin",src:a.urlOfVideo,alt:"",referrerPolicy:"no-referrer"}):Object(f.jsx)("video",{className:"videoShowAddPost videoMargin",controls:!0,children:Object(f.jsx)("source",{src:a.urlOfVideo,type:"video/mp4"})}))]}),Object(f.jsxs)("div",{className:"postBottom",children:[Object(f.jsxs)("div",{className:"acitonsForPosts",children:[Object(f.jsxs)("div",{children:[S?Object(f.jsx)(k.b,{style:{fontSize:"35px",cursor:"pointer"},className:"scaled",onClick:V}):Object(f.jsx)(k.c,{className:"scaled",style:{fontSize:"35px",cursor:"pointer"},onClick:V}),Object(f.jsx)("span",{style:{color:b},children:v})]}),Object(f.jsx)(se.a,{style:{fontSize:"30px",cursor:"pointer",color:j},className:"scaled",onClick:function(){return E(!U)}})]}),Object(f.jsx)(ie,{post:a,sendNotification:z},a._id)]})]}),Object(f.jsx)(je.a,{initial:!1,exitBeforeEnter:!0,onExitComplete:function(){return null},children:U&&Object(f.jsx)(de,{setifSharing:E,sendNotification:z,idOfPost:a._id})})]})},fe=function(){Object(A.register)("myLanguage",ae);var e=Object(n.useContext)(p),t=e.user,r=e.socket,a=e.backgroundColor1,s=e.backgroundColor2,c=e.backgroundColor4,o=Object(n.useState)([]),j=Object(u.a)(o,2),b=j[0],O=j[1],x=Object(n.useState)(),m=Object(u.a)(x,2),v=m[0],g=m[1],k=Object(n.useState)(!1),y=Object(u.a)(k,2),N=y[0],w=y[1],S=Object(n.useState)(!1),I=Object(u.a)(S,2),_=I[0],P=I[1],U=Object(n.useState)([]),R=Object(u.a)(U,2),M=R[0],D=R[1],L=Object(n.useState)(),z=Object(u.a)(L,2),V=z[0],T=z[1],B=Object(d.g)();Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/notifications/getAllNotifications/".concat(t._id)));case 2:r=e.sent,O(r.data),g(r.data.filter((function(e){return!1===e.readed})).length),W();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t._id]),Object(n.useEffect)((function(){null===r||void 0===r||r.on("getNotification",(function(e){console.log("new notification",e),q(e)}))}),[r]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/users/getAllFriends/".concat(t._id)));case 2:r=e.sent,T(r.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var q=function(e){g((function(e){return e+1})),O((function(t){return[].concat(Object(E.a)(t),[{_id:e.id,senderId:e.senderId,recieverId:e.recieverId,type:e.type,url:e.url,idOfPost:e.idOfPost,text:e.text,createdAt:e.date}])})),W()},W=function(){O((function(e){return Object(E.a)(e.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})))}))},G=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/posts/getPost/".concat(t)));case 2:return n=e.sent,D(n.data),P(!0),w(!1),e.next=8,J(r,!1);case 8:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),J=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return!(a=b.filter((function(e){return e._id===t})))[0].readed&&g((function(e){return e-1})),console.log(a[0].readed),a[0].readed=!0,O((function(e){return Object(E.a)(e.filter((function(e){return e._id!==t})))})),O((function(e){return[].concat(Object(E.a)(e),[a[0]])})),W(),console.log(n),e.next=10,h.a.put(C("/notifications/changeReadedToTrue/"),{id:t}).then((function(){1==r?B.push("/profile/".concat(n)):2===r&&B.push("/")}));case 10:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"Notifications",children:[N&&Object(f.jsx)("div",{className:"allNotificationsContainer",style:{backgroundColor:"white"},children:b.map((function(e){return 4===e.type?Object(f.jsxs)("div",{className:"notificationMessagge linkNotificationToProfile opacity",style:e.readed?{backgroundColor:s,border:"1px solid"+a,color:a}:{backgroundColor:a,color:c},onClick:function(){return J(e._id,1,e.senderId)},children:[Object(f.jsx)(F,{friends:V,idOfUser:e.senderId,unReaded:!e.readed,style:{width:"40px",height:"40px",borderRadius:"50%"}}),Object(f.jsx)("span",{children:e.text}),Object(f.jsx)("span",{className:"timeOfCreatedAtNotification",children:Object(A.format)(e.createdAt,"myLanguage")})]}):7===e.type?Object(f.jsxs)("div",{className:"notificationMessagge linkNotificationToProfile opacity",style:e.readed?{backgroundColor:s,border:"1px solid"+a,color:a}:{backgroundColor:a,color:c},onClick:function(){return J(e._id,2,e.senderId)},children:[Object(f.jsx)(F,{friends:V,idOfUser:e.senderId,unReaded:!e.readed,style:{width:"40px",height:"40px",borderRadius:"50%"}}),Object(f.jsx)("span",{children:e.text}),Object(f.jsx)("span",{className:"timeOfCreatedAtNotification",children:Object(A.format)(e.createdAt,"myLanguage")})]}):Object(f.jsxs)("button",{className:"notificationMessagge opacity",style:e.readed?{backgroundColor:s,border:"1px solid"+a,color:a}:{backgroundColor:a,color:c},onClick:function(){return G(e.idOfPost,e._id)},children:[Object(f.jsx)(F,{friends:V,idOfUser:e.senderId,unReaded:!e.readed,style:{width:"40px",height:"40px",borderRadius:"50%"}}),Object(f.jsx)("span",{children:e.text}),Object(f.jsx)("span",{className:"timeOfCreatedAtNotification",children:Object(A.format)(e.createdAt,"myLanguage")})]})}))}),Object(f.jsxs)("div",{className:"notificationBell scaled pointer",onClick:function(){return w((function(e){return!e}))},children:[v>0&&Object(f.jsx)("span",{className:"notificationNubmer",children:v}),Object(f.jsx)(X.a,{style:{color:a,width:"30px",height:"30px"}})]})]}),Object(f.jsx)(je.a,{initial:!1,exitBeforeEnter:!0,onExitComplete:function(){return null},children:_&&Object(f.jsx)(ue,{classNameMain:"mainContainerForPost",classNameContainer:"containerForPost",setVisible:P,children:Object(f.jsx)(be,{post:M})})})]})},Oe=function(e){var t=e.story,r=e.type,a=e.setIsOpenAddStory,s=e.setIdOfCurrentOpenStory,c=e.setIsVisibleStoriesBook,o=Object(n.useContext)(p),d=o.onlineFriends,j=o.user,b=Object(n.useState)(),O=Object(u.a)(b,2),x=O[0],m=O[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=5;break}return e.next=3,h.a.get(C("/users/getUser/".concat(t.idOfUser)));case 3:r=e.sent,m(r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]),Object(f.jsx)("div",{className:"Story storyWidthAndHeight",children:1===r?Object(f.jsxs)("div",{onClick:function(){return a(!0)},children:[Object(f.jsx)("img",{src:j.idOrUrlOfProfilePicture?j.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"storyImg",className:"storyImg storyWidthAndHeight"}),Object(f.jsxs)("div",{className:"profileContainerAddStory",children:[Object(f.jsx)($.a,{className:"iconAddStory",style:{color:"black"}}),Object(f.jsx)("span",{children:"Vytvo\u0159te p\u0159\xedb\u011bh"})]})]}):Object(f.jsxs)("div",{onClick:function(){s(t._id),c(!0)},children:[Object(f.jsxs)("div",{style:{position:"relative"},children:[t.urlOfImg&&Object(f.jsx)("img",{src:t.urlOfImg,alt:"storyImg",className:"storyImg storyWidthAndHeight"}),t.urlOfVideo&&Object(f.jsx)("video",{className:"storyImg storyWidthAndHeight",children:Object(f.jsx)("source",{src:t.urlOfVideo,type:"video/mp4"})}),Object(f.jsx)("span",{className:t.position,children:Object(f.jsx)("span",{style:{padding:"5px"},children:t.text})})]}),Object(f.jsxs)(N.b,{to:"/profile/".concat(null===x||void 0===x?void 0:x._id),className:"profileContainerStory",children:[Object(f.jsxs)("div",{className:"profileImgMain",children:[Object(f.jsx)("img",{src:(null===x||void 0===x?void 0:x.idOrUrlOfProfilePicture)?null===x||void 0===x?void 0:x.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"profileImg",className:"profileImgStory"}),(null===d||void 0===d?void 0:d.some((function(e){return e.userId===(null===x||void 0===x?void 0:x._id)})))&&Object(f.jsx)("div",{className:"onlineUserStory"})]}),Object(f.jsx)("span",{children:null===x||void 0===x?void 0:x.username})]})]})})},pe=r(78),xe=r.n(pe),me=(r(256),function(e){var t=e.children,r=e.setUrlImage,a=e.id,s=e.setNoError,c=e.addStory,o=Object(n.useContext)(p).backgroundColor1;return Object(f.jsxs)("label",{htmlFor:a,id:"inputfileRegister",className:"".concat(!c&&"inputImgAddPost"," opacity"),style:c?{color:"white",margin:"10px 0px 10px 0px"}:{backgroundColor:o,color:"white",margin:"10px 0px 10px 0px"},children:[Object(f.jsx)("input",{style:{display:"none"},id:a,type:"file",onChange:function(e){e.target.files[0]&&r(URL.createObjectURL(e.target.files[0])),s(!1)},accept:"image/*"}),t]})}),he=r(57),ve=function(e){var t=e.aspect,r=e.rect,a=e.saveImg,s=e.addStory,c=e.children,o=e.setCropImg,d=e.setVideo,j=e.video,b=Object(n.useContext)(p),O=b.user,x=b.backgroundColor1,m=b.backgroundColor4,v=b.socket,g=Object(n.useState)({aspect:t}),k=Object(u.a)(g,2),y=k[0],N=k[1],w=Object(n.useState)(null),S=Object(u.a)(w,2),I=S[0],_=S[1],U=Object(n.useState)(null),E=Object(u.a)(U,2),R=E[0],M=E[1],A=Object(n.useState)(!1),F=Object(u.a)(A,2),D=F[0],L=F[1],z=Object(n.useState)(!1),V=Object(u.a)(z,2),T=V[0],B=V[1],q=Object(n.useState)([]),W=Object(u.a)(q,2),G=W[0],J=W[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get("/users/getAllFriends/".concat(O._id));case 2:t=e.sent,J(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[O._id]),Object(n.useEffect)((function(){_(null)}),[j]);var H=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,a,s){var c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ahoj"),e.next=3,h.a.post(C("/notifications/addNotification"),{senderId:O._id,recieverId:t,type:r,url:n,idOfPost:a,text:s});case 3:c=e.sent,v.emit("sendNotification",{id:c.data._id,senderId:O._id,recieverId:t,type:r,url:n,idOfPost:a,readed:!1,text:s});case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),K=function(){var e=Object(l.a)(i.a.mark((function e(t){var r,n,s,c,u,d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R&&(0!==y.width||0!==y.height)){e.next=2;break}return e.abrupt("return");case 2:r=document.createElement("canvas"),n=R.naturalWidth/R.width,s=R.naturalHeight/R.height,r.width=y.width,r.height=y.height,c=r.getContext("2d"),u=window.devicePixelRatio,r.width=y.width*u,r.height=y.height*u,c.setTransform(u,0,0,u,0,0),c.imageSmoothingQuality="high",c.drawImage(R,y.x*n,y.y*s,y.width*n,y.height*s,0,0,y.width,y.height),t?(d=r.toDataURL("image/jpeg"),o(d)):r.toBlob(function(){var e=Object(l.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.name=Math.floor(Date.now()/1e3),_(null),e.next=4,a(t,B,L,G,H,1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(null),e.next=3,a(j,B,L,G,H,2);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"CropperImage",children:[Object(f.jsxs)("div",{className:"actionsMethods",children:[Object(f.jsx)(me,{addStory:s,setUrlImage:_,setNoError:B,id:r?"addCoverPicture":"addProfilePicture",children:s?Object(f.jsx)("div",{id:"inputfileRegister",className:"buttonsForVariantsMessage opacity",style:{color:m,backgroundColor:x},children:Object(f.jsx)($.c,{className:"reactIcon"})}):Object(f.jsx)("span",{className:"opacity",style:{color:m},children:"vyber obr\xe1zek"})}),s&&Object(f.jsx)(re,{setVideoFile:d})]}),I&&Object(f.jsx)(f.Fragment,{children:s?Object(f.jsx)(xe.a,{src:I,onImageLoaded:M,crop:y,onChange:function(e){N(e),K(!0)},style:{minWidth:"120px",maxWidth:"240px",minHeight:"150px",maxHeight:"300px",objectFit:"cover"},children:c}):r?Object(f.jsx)(xe.a,{src:I,onImageLoaded:M,crop:y,onChange:function(e){return N(e)},style:{width:"80%",height:"auto"}}):Object(f.jsx)(xe.a,{src:I,onImageLoaded:M,crop:y,onChange:function(e){return N(e)},style:{width:"250px",height:"auto"},circularCrop:!0})}),Object(f.jsx)("button",{onClick:function(){return I?K():j&&Q()},className:"inputImgAddPost opacity",style:{backgroundColor:x,color:m,margin:"10px 0px 0px 0px"},children:D?Object(f.jsx)(P.a,{color:m,size:10}):T?Object(f.jsx)("div",{className:"correctAnimation",children:Object(f.jsx)(he.a,{size:15})}):s?"p\u0159idat p\u0159\xedb\u011bh":r?"zm\u011bnit fotku na pozad\xed":"zm\u011bnit profilovou fotku"})]})},ge=function(e){var t=e.setIsOpenAddStory,r=Object(n.useContext)(p),a=r.user,s=r.backgroundColor1,c=r.backgroundColor2,o=Object(n.useState)(null),d=Object(u.a)(o,2),j=d[0],b=d[1],O=Object(n.useState)(null),x=Object(u.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)(""),k=Object(u.a)(g,2),y=k[0],N=k[1],w=Object(n.useState)("mid"),S=Object(u.a)(w,2),I=S[0],_=S[1],P=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,s,c,o){var u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),u="stories/"+a.username+"/"+t.name+Math.floor(Date.now()/1e3),e.next=4,J(t,u).then(Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload file succesfully"),e.next=3,H(u);case 3:return t=e.sent,e.next=6,U(t,s,c,o);case 6:n(!1),r(!0);case 8:case"end":return e.stop()}}),e)}))));case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s,c){return e.apply(this,arguments)}}(),U=function(){var e=Object(l.a)(i.a.mark((function e(t,r,n,s){var c,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c={idOfUser:a._id,urlOfImg:1===s?t:null,urlOfVideo:2===s?t:null,text:y,position:I},e.next=4,h.a.post(C("/stories/addStory"),c);case 4:o=e.sent,new Promise((function(){r.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t,a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t._id,7,null,o.data._id,"p\u0159idal/a nov\xfd p\u0159\xedb\u011bh");case 2:a===r.length-1&&window.location.reload();case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}())})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r,n,a){return e.apply(this,arguments)}}();return Object(f.jsx)(ue,{classNameMain:"AddStory",classNameContainer:"shareContainer",setVisible:t,children:Object(f.jsxs)("div",{className:"mainContainerSettingsStory",children:[Object(f.jsxs)("div",{className:"settingsStory",children:[Object(f.jsxs)("div",{className:"inputEmojiPickerContainer",children:[Object(f.jsx)("input",{type:"text",className:"inputInfo",style:{backgroundColor:c,color:s},placeholder:"n\u011bco k p\u0159\xedb\u011bhu...",value:y,onChange:function(e){N(e.target.value)}}),Object(f.jsx)(Z,{setValOfText:N})]}),Object(f.jsxs)("select",{onChange:function(e){_(e.target.value)},className:"inputInfo",style:{backgroundColor:c,color:s},children:[Object(f.jsx)("option",{value:"top",children:"naho\u0159e"}),Object(f.jsx)("option",{value:"mid",selected:!0,children:"up\u0159ost\u0159ed"}),Object(f.jsx)("option",{value:"bot",children:"dole"})]}),m&&Object(f.jsxs)("div",{className:"imgShowContainerAddPost",style:{position:"relative"},children:[Object(f.jsx)("span",{className:I,children:Object(f.jsx)("span",{style:{padding:"5px"},children:y})}),Object(f.jsx)("video",{className:"videoShowAddStory",autoPlay:!0,loop:!0,children:Object(f.jsx)("source",{src:URL.createObjectURL(m),type:"video/mp4"})}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(e){v(null)}})]}),j&&Object(f.jsxs)("div",{style:{position:"relative"},children:[Object(f.jsx)("img",{alt:"",style:{width:"120px",height:"200px"},src:j}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(e){b(null)}}),Object(f.jsx)("span",{className:I,children:Object(f.jsx)("span",{style:{padding:"5px"},children:y})})]})]}),Object(f.jsxs)("div",{className:"displayStory",children:[Object(f.jsx)("h4",{style:{color:s},children:"Vyber \u010d\xe1st na obr\xe1zku"}),Object(f.jsx)(ve,{aspect:.6,rect:!0,addStory:!0,saveImg:P,valueOfPlace:I,setCropImg:b,setVideo:v,video:m})]})]})})},Ce=function(e){var t=e.users,r=e.idOfCurrentOpenStory,a=e.setIsVisibleStoriesBook,s=e.allStories,c=Object(n.useContext)(p).onlineFriends,o=Object(n.useState)(s.findIndex((function(e){return e._id===r}))),d=Object(u.a)(o,2),j=d[0],b=d[1],O=Object(n.useState)(null),x=Object(u.a)(O,2),m=x[0],h=x[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.filter((function(e){return e._id===s[j].idOfUser}))[0],console.log(r),h(r);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[j,s]);return Object(f.jsxs)(ue,{classNameMain:"StoryBook",classNameContainer:"storyBookContainer",setVisible:a,children:[Object(f.jsxs)(le.a.div,{className:"mainContainerStoryBook",initial:{rotate:45},animate:{rotate:0},exit:{rotate:-45},children:[s[j].urlOfVideo&&Object(f.jsx)("video",{className:"storyImg storyBookImgWidthAndHeight",autoPlay:!0,loop:!0,children:Object(f.jsx)("source",{src:s[j].urlOfVideo,type:"video/mp4"})}),s[j].urlOfImg&&Object(f.jsx)("img",{src:s[j].urlOfImg,alt:"storyImg",className:"storyImg storyBookImgWidthAndHeight"}),Object(f.jsx)("span",{className:s[j].position,children:Object(f.jsx)("h2",{style:{padding:"5px"},children:s[j].text})}),Object(f.jsxs)(N.b,{to:"/profile/".concat(null===m||void 0===m?void 0:m._id),className:"profileContainerStory",children:[Object(f.jsxs)("div",{className:"profileImgMain",children:[Object(f.jsx)("img",{src:(null===m||void 0===m?void 0:m.idOrUrlOfProfilePicture)?null===m||void 0===m?void 0:m.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"profileImg",className:"profileImgStory"}),(null===c||void 0===c?void 0:c.some((function(e){return e.userId===(null===m||void 0===m?void 0:m._id)})))&&Object(f.jsx)("div",{className:"onlineUserStory"})]}),Object(f.jsx)("span",{children:null===m||void 0===m?void 0:m.username})]})]}),s.length>1&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ce.a,{onClick:function(){b(j>0?function(e){return e-1}:s.length-1)},className:"buttonNext buttonStoryBook"}),Object(f.jsx)(ce.c,{onClick:function(){j===s.length-1?b(0):b((function(e){return e+1}))},className:"buttonPrev buttonStoryBook"})]})]})},ke=function(){var e=Object(n.useContext)(p).user,t=Object(n.useState)([]),r=Object(u.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)(0),o=Object(u.a)(c,2),d=o[0],j=o[1],b=Object(n.useRef)(),O=Object(n.useState)(!1),x=Object(u.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)(null),k=Object(u.a)(g,2),y=k[0],N=k[1],w=Object(n.useState)(!1),S=Object(u.a)(w,2),I=S[0],_=S[1],P=Object(n.useState)([]),U=Object(u.a)(P,2),R=U[0],M=U[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(i.a.mark((function t(){var r,n,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get(C("/stories/getAllStories/".concat(e._id)));case 2:return r=t.sent,n=[],r.data.forEach((function(e){n.push(e.idOfUser)})),a=Object(E.a)(new Set(n)),t.next=8,h.a.post(C("/users/getAllUsersData"),{users:a});case 8:c=t.sent,M(c.data),s(r.data);case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]),Object(n.useEffect)((function(){j(b.current.scrollWidth-b.current.offsetWidth)}),[a]),Object(f.jsxs)("div",{className:"StoriesMain",ref:b,whiletap:{cursor:"grabbing"},children:[Object(f.jsxs)(le.a.div,{drag:"x",dragConstraints:{right:0,left:-d},className:"stories",children:[Object(f.jsx)(Oe,{type:1,setIsOpenAddStory:v}),null===a||void 0===a?void 0:a.map((function(e){return Object(f.jsx)(Oe,{story:e,setIdOfCurrentOpenStory:N,setIsVisibleStoriesBook:_},e._id)}))]}),Object(f.jsxs)(je.a,{initial:!1,exitBeforeEnter:!0,onExitComplete:function(){return null},children:[m&&Object(f.jsx)(ge,{setIsOpenAddStory:v}),I&&Object(f.jsx)(Ce,{users:R,idOfCurrentOpenStory:y,setIsVisibleStoriesBook:_,allStories:a})]})]})},ye=function(){var e=Object(n.useContext)(p).user,t=Object(n.useState)(null),r=Object(u.a)(t,2),a=r[0],s=r[1],c=Object(n.useState)([]),o=Object(u.a)(c,2),d=o[0],j=o[1],b=Object(n.useState)([]),O=Object(u.a)(b,2),x=O[0],m=O[1];return Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(i.a.mark((function t(){var r,n,a,c,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("/posts/getAllPosts/".concat(e._id));case 2:return r=t.sent,n=[],r.data.forEach((function(e){n.push(e.userId)})),a=Object(E.a)(new Set(n)),t.next=8,h.a.post(C("/users/getAllUsersData"),{users:a});case 8:c=t.sent,m(c.data),o=r.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),s(o);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]),Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("/users/getAllFriends/".concat(e._id));case 2:r=t.sent,j(r.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e._id]),Object(f.jsxs)("div",{className:"homeContainer",children:[Object(f.jsx)(V,{}),Object(f.jsx)(G,{users:d,type:1}),Object(f.jsxs)("div",{className:"homeContainerPostsMain",children:[Object(f.jsxs)("div",{className:"homeContainerPosts",children:[Object(f.jsx)(ke,{}),Object(f.jsx)(ne,{friends:d}),null===a||void 0===a?void 0:a.map((function(e,t){return Object(f.jsx)(be,{post:e,userOfPost:x.filter((function(t){return t._id===e.userId}))[0]},t)}))]}),Object(f.jsx)(G,{users:d,className:"pc",type:2})]}),Object(f.jsx)(fe,{})]})},Ne=function(){var e=Object(n.useContext)(p),t=e.setUser,r=e.setColors,a=e.backgroundColor1,s=e.backgroundColor2,c=Object(n.useState)(!1),o=Object(u.a)(c,2),j=o[0],b=o[1],O=Object(n.useState)(""),x=Object(u.a)(O,2),m=x[0],v=x[1],g=Object(n.useState)(""),k=Object(u.a)(g,2),S=k[0],_=k[1],U=Object(n.useState)(!1),E=Object(u.a)(U,2),R=E[0],M=E[1],A=Object(n.useRef)(null),F=Object(n.useRef)(null),D=Object(d.g)(),L=function(){var e=Object(l.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:1===t&&(""!==r?I.a.isEmail(r)?v(null):v("neplatn\xfd email"):v("email je povinn\xfd")),2===t&&_(""!==r?null:"heslo je povinn\xe9");case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),z=function(){var e=Object(l.a)(i.a.mark((function e(){var n,a,s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!m&&!S&&""!==m&&""!==S)){e.next=24;break}return e.prev=2,b(!0),n={email:A.current.value,password:F.current.value},e.next=7,h.a.post(C("/users/login"),n);case 7:return a=e.sent,s=a.data,localStorage.setItem("user",JSON.stringify(s)),e.next=12,h.a.get(C("userColors/ifUserColorsExist/".concat(s._id)));case 12:(c=e.sent).data&&(localStorage.setItem("colors",JSON.stringify({backgroundColor1:c.data.backgroundColor1,backgroundColor2:c.data.backgroundColor2,backgroundColor3:c.data.backgroundColor3,backgroundColor4:c.data.backgroundColor4})),r({backgroundColor1:c.data.backgroundColor1,backgroundColor2:c.data.backgroundColor2,backgroundColor3:c.data.backgroundColor3,backgroundColor4:c.data.backgroundColor4})),t(s),D.push("/"),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),b(!1),M(!0);case 22:e.next=26;break;case 24:""===m&&L(1,""),""===S&&L(2,"");case 26:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"Login",children:Object(f.jsxs)("div",{className:"loginContainer",children:[Object(f.jsx)("div",{className:"rotateDiv1",style:{backgroundColor:a}}),Object(f.jsx)("div",{className:"rotateDiv2",style:{backgroundColor:a}}),Object(f.jsxs)("div",{className:"loginForm",children:[Object(f.jsx)("h2",{style:{color:a},children:"P\u0159ihl\xe1sit se"}),Object(f.jsx)("input",{className:"inputRegister",onChange:function(e){L(1,e.target.value)},ref:A,style:{backgroundColor:s,color:a},type:"email",placeholder:"email"}),""!==m&&m&&Object(f.jsx)("span",{className:"errorMessage",children:m}),Object(f.jsx)("input",{className:"inputRegister",onChange:function(e){L(2,e.target.value)},ref:F,style:{backgroundColor:s,color:a},type:"password",placeholder:"heslo"}),""!==S&&S&&Object(f.jsx)("span",{className:"errorMessage",children:S}),R&&Object(f.jsx)("span",{className:"errorMessage",children:"\u0161patn\xe9 heslo nebo email"}),Object(f.jsx)("button",{className:"buttonRegister inputRegister",style:{backgroundColor:a,color:"white"},onClick:z,children:j?Object(f.jsx)(P.a,{color:s,size:10}):"P\u0159ihl\xe1sit"})," ",Object(f.jsx)("br",{}),Object(f.jsx)("span",{children:"nebo"}),Object(f.jsx)(y,{}),Object(f.jsx)(N.b,{to:"/register",className:"goToLogInButton inputRegister",style:{backgroundColor:a},children:j?Object(f.jsx)(P.a,{color:s,size:10}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("span",{children:"Registrovat"}),Object(f.jsx)(w.a,{className:"ArrowImg"})]})})]})]})})},we=function(e){var t,r=e.removeFriend,a=e.ifAreFriends,s=e.myUser,c=e.idOfUser,o=e.addOrRemoveRequestToUser,i=e.ifSendRequest,l=e.confirmRequest,u=Object(n.useContext)(p).backgroundColor1;return Object(f.jsx)(f.Fragment,{children:a?Object(f.jsxs)("button",{className:"buttonForActionsFriend opacity",style:{backgroundColor:u,color:"white"},onClick:r,children:[Object(f.jsx)(ce.g,{style:{fontSize:"20px"}}),"odebrat p\u0159\xedtele"]}):(null===s||void 0===s||null===(t=s.idOfRequests)||void 0===t?void 0:t.includes(c))?Object(f.jsxs)("button",{className:"buttonForActionsFriend opacity",style:{backgroundColor:u,color:"white"},onClick:function(){return l(c,s._id)},children:[Object(f.jsx)(ce.f,{style:{fontSize:"20px"}}),"p\u0159ijmout \u017e\xe1dost"]}):Object(f.jsx)("button",{className:"buttonForActionsFriend opacity",style:{backgroundColor:u,color:"white"},onClick:o,children:i?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ce.h,{style:{fontSize:"20px"}})," odebrat \u017e\xe1dost"]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(ce.e,{style:{fontSize:"20px"}}),"poslat \u017e\xe1dost"]})})})},Se=function(e){var t=e.urlOfProfileImg,r=e.urlOfCoverImg,n=e.user,a=e.removeFriend,s=e.ifAreFriends,c=e.myUser,o=e.idOfUser,i=e.addOrRemoveRequestToUser,l=e.ifSendRequest,u=e.confirmRequest;return Object(f.jsxs)("div",{className:"topProfile",style:o!==n._id?{marginBottom:"50px"}:{},children:[Object(f.jsx)("img",{className:"topProfileBackgroundPicture",src:r||"/img/wallpaperNone.jpg",alt:""}),Object(f.jsx)("img",{className:"topProfileProfilePicture",src:t||"/img/anonymous.png",alt:""}),o===n._id&&Object(f.jsxs)("div",{className:"bottomProfile",children:[Object(f.jsx)("span",{style:{marginRight:"10px"},children:n.username}),Object(f.jsx)(we,{removeFriend:a,ifAreFriends:s,myUser:c,idOfUser:o,addOrRemoveRequestToUser:i,ifSendRequest:l,confirmRequest:u})]})]})},Ie=function(e){var t=e.idOfRequests,r=e.confirmRequest,a=Object(n.useContext)(p).backgroundColor1;return Object(f.jsx)("div",{className:"requestsContainer",children:t.map((function(e){return Object(f.jsxs)("div",{className:"requests",children:[Object(f.jsx)(F,{idOfUser:e,style:{width:"50px",height:"50px",borderRadius:"50%",objectFit:"cover"}}),Object(f.jsx)("button",{onClick:function(){return r(e)},style:{backgroundColor:a},className:"buttonConfirmFriendShip",children:"p\u0159ijmout \u017e\xe1dost o p\u0159\xe1telstv\xed"})]},e)}))})},_e=function(e){var t=e.user,r=Object(n.useState)([]),a=Object(u.a)(r,2),s=a[0],c=a[1],o=Object(n.useState)(!1),d=Object(u.a)(o,2),j=d[0],b=d[1],O=Object(n.useState)("second"),p=Object(u.a)(O,2),x=p[0],m=p[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c([]),e.next=3,null===t||void 0===t||null===(r=t.idOfAllPicture)||void 0===r?void 0:r.map(function(){var e=Object(l.a)(i.a.mark((function e(t){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/images/getImg/".concat(t)));case 2:r=e.sent,n=r.data,c((function(e){return[].concat(Object(E.a)(e),[n.url])}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.idOfAllPicture]);return Object(f.jsx)("div",{className:"profileImages",children:Object(f.jsxs)("div",{className:"profileImagesContainer",children:[null===s||void 0===s?void 0:s.map((function(e){return Object(f.jsx)("img",{src:e,onClick:function(){return function(e){b(!0),m(e)}(e)},alt:"allPicture",style:{width:"70px",height:"70px",objectFit:"cover"}})})),Object(f.jsx)(je.a,{initial:!1,exitBeforeEnter:!0,onExitComplete:function(){return null},children:j&&Object(f.jsx)(ue,{classNameMain:"Share",classNameContainer:"shareContainer",setVisible:b,children:Object(f.jsx)("img",{src:x,alt:""})})})]})})},Pe=function(e){var t=e.user,r=Object(n.useContext)(p).backgroundColor1,a=Object(n.useState)([]),s=Object(u.a)(a,2),c=s[0],o=s[1];return Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o([]),e.next=3,h.a.get(C("/userInfos/getUserInfo/".concat(t._id)));case 3:r=e.sent,o(r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t.idOfAllPicture,t._id]),Object(f.jsx)("div",{className:"profileInfoContainers",children:0===(null===c||void 0===c?void 0:c.length)?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"profileInfoContainers",children:[Object(f.jsx)("span",{children:"Popis:"}),Object(f.jsx)("span",{style:{color:r,fontWeight:"500"},children:" - "})]}),Object(f.jsxs)("div",{className:"profileInfoContainers",children:[Object(f.jsx)("span",{children:"Bydl\xed v:"}),Object(f.jsx)("span",{style:{color:r,fontWeight:"500"},children:" - "})]}),Object(f.jsxs)("div",{className:"profileInfoContainers",children:[Object(f.jsx)("span",{children:"Vztah:"}),Object(f.jsx)("span",{style:{color:r,fontWeight:"500"},children:" - "})]})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"profileInfoContainers",children:[Object(f.jsx)("span",{children:"Popis:"}),Object(f.jsx)("span",{style:{color:r,fontWeight:"500"},children:c.desc})]}),Object(f.jsxs)("div",{className:"profileInfoContainers",children:[Object(f.jsx)("span",{children:"Bydl\xed v:"}),Object(f.jsx)("span",{style:{color:r,fontWeight:"500"},children:c.from})]}),Object(f.jsxs)("div",{className:"profileInfoContainers",children:[Object(f.jsx)("span",{children:"Vztah:"}),Object(f.jsx)("span",{style:{color:r,fontWeight:"500"},children:c.relationShip})]})]})})},Ue=function(){var e=Object(n.useContext)(p),t=e.user,r=e.socket,a=e.backgroundColor1,s=e.backgroundColor4,c=Object(d.h)().idOfUser,o=Object(n.useState)([]),j=Object(u.a)(o,2),b=j[0],O=j[1],x=Object(n.useState)(""),m=Object(u.a)(x,2),v=m[0],g=m[1],k=Object(n.useState)(""),y=Object(u.a)(k,2),w=y[0],S=y[1],I=Object(n.useState)(null),_=Object(u.a)(I,2),P=_[0],U=_[1],R=Object(n.useState)(null),M=Object(u.a)(R,2),A=M[0],F=M[1],D=Object(n.useState)([]),L=Object(u.a)(D,2),z=L[0],T=L[1],B=Object(n.useState)([]),q=Object(u.a)(B,2),W=q[0],J=q[1],H=Object(n.useState)([]),K=Object(u.a)(H,2),Q=K[0],Y=K[1],X=Object(n.useState)([]),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)([]),re=Object(u.a)(te,2),ae=re[0],se=re[1];Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c!==t._id){e.next=5;break}g(t.idOrUrlOfProfilePicture),S(t.idOrUrlOfCoverPicture),e.next=11;break;case 5:return e.next=7,h.a.get(C("/users/getUser/".concat(c)));case 7:r=e.sent,ee(r.data),g(r.data.idOrUrlOfProfilePicture),S(r.data.idOrUrlOfCoverPicture);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c,t]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/users/getUser/".concat(t._id)));case 2:r=e.sent,O(r.data),J(r.data.idOfRequests);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c,t._id]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/users/getUser/".concat(c)));case 2:return r=e.sent,e.next=5,ce(r.data);case 5:U(r.data.idOfFriends.includes(t._id)),F(r.data.idOfRequests.includes(t._id));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c,t._id]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,r,n,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/posts/getPosts/".concat(c)));case 2:return t=e.sent,r=[],t.data.forEach((function(e){r.push(e.userId)})),n=Object(E.a)(new Set(r)),e.next=8,h.a.post(C("/users/getAllUsersData"),{users:n});case 8:a=e.sent,se(a.data),s=t.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})),Y(s);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]);var ce=function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T([]),e.next=3,h.a.get(C("/users/getAllFriends/".concat(t._id)));case 3:r=e.sent,T(r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ue(c,4,"/profile/".concat(c),null,A?"odebral \u017e\xe1dost o p\u0159\xe1telstv\xed":"poslal \u017e\xe1dost o pr\xe1telstv\xed"),F(!A),e.next=4,h.a.put(C("/users/addOrRemoveRequest/".concat(c,"/").concat(t._id)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(l.a)(i.a.mark((function e(r,n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/users/getUser/".concat(n||r)));case 2:return a=e.sent,J(W.filter((function(e){return e!==r}))),T((function(e){return[].concat(Object(E.a)(e),[a.data])})),U(!0),e.next=8,h.a.put(C("/users/addFriend/".concat(r,"/").concat(t._id)));case 8:ue(r,4,"/profile/".concat(r),null,"nyn\xed jste p\u0159\xe1tel\xe9");case 9:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),le=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),T(z.filter((function(e){return e._id!==t._id}))),e.next=4,h.a.put(C("/users/removeFriend/".concat(c,"/").concat(t._id)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(l.a)(i.a.mark((function e(n,a,s,c,o){var l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(C("/notifications/addNotification"),{senderId:t._id,recieverId:n,type:a,url:s,idOfPost:c,text:o});case 2:l=e.sent,r.emit("sendNotification",{id:l.data._id,senderId:t._id,recieverId:n,type:a,url:s,idOfPost:c,readed:!1,text:o});case 4:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"Profile",children:[Object(f.jsx)(V,{}),Object(f.jsx)(Se,{urlOfProfileImg:v,urlOfCoverImg:w,user:$,removeFriend:le,ifAreFriends:P,myUser:b,idOfUser:c,addOrRemoveRequestToUser:oe,ifSendRequest:A,confirmRequest:ie}),Object(f.jsxs)("div",{className:"profileContainer",children:[Object(f.jsxs)("div",{className:"profileAllAboutContainer",children:[c===t._id&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"buttonSettingsContainer",children:Object(f.jsx)(N.b,{to:"/settings",className:"buttonLogOut opacity",style:{backgroundColor:a,color:s,textDecoration:"none",fontSize:"13.33px",padding:"12px",borderRadius:"10px",margin:"0px 0px 15px 0px"},children:"nasatven\xed profilu"})}),Object(f.jsx)(Ie,{confirmRequest:ie,idOfRequests:W,myId:t._id})]}),Object(f.jsxs)("div",{className:"profileAllAbout",children:[c===t._id?Object(f.jsx)(_e,{user:b}):Object(f.jsx)(_e,{user:$}),Object(f.jsx)("div",{className:"profileInfo",children:c===t._id?Object(f.jsx)(Pe,{user:b}):Object(f.jsx)(Pe,{user:$})})]}),Object(f.jsxs)("div",{className:"friendsContainer",children:[Object(f.jsx)("span",{children:"pratele"}),Object(f.jsx)(G,{users:z,type:1,classBorderRadius:"borderRadiusSwiperOnline"})]})]}),Object(f.jsxs)("div",{className:"postsActionsContainerProfile",children:[c===t._id&&Object(f.jsx)(ne,{friends:z}),null===Q||void 0===Q?void 0:Q.map((function(e,t){return Object(f.jsx)(be,{post:e,userOfPost:ae.filter((function(t){return t._id===e.userId}))[0]},t)}))]})]}),Object(f.jsx)(fe,{})]})},Ee=function(e){var t=e.text,r=e.color,a=e.setColor,s=e.setNoError,c=e.setNoErrorDefaultButton,o=Object(n.useContext)(p),i=o.backgroundColor1,l=o.backgroundColor3;return Object(f.jsxs)("div",{className:"ColorsPicker",children:[Object(f.jsx)("span",{style:{color:l},children:t}),Object(f.jsx)("input",{type:"color",className:"pointer",style:{backgroundColor:i,borderRadius:"5px"},value:r,onChange:function(e){a(e.target.value),s(!1),c(!1)}})]})},Re=function(){var e=Object(n.useContext)(p),t=e.user,r=e.setColors,a=e.backgroundColor1,s=e.backgroundColor2,c=e.backgroundColor3,o=e.backgroundColor4,d=Object(n.useState)(a),j=Object(u.a)(d,2),b=j[0],O=j[1],x=Object(n.useState)(s),m=Object(u.a)(x,2),v=m[0],g=m[1],k=Object(n.useState)(c),y=Object(u.a)(k,2),N=y[0],w=y[1],S=Object(n.useState)(o),I=Object(u.a)(S,2),_=I[0],U=I[1],E=Object(n.useState)(!1),R=Object(u.a)(E,2),M=R[0],A=R[1],F=Object(n.useState)(!1),D=Object(u.a)(F,2),L=D[0],z=D[1],V=Object(n.useState)(!1),T=Object(u.a)(V,2),B=T[0],q=T[1],W=Object(n.useState)(!1),G=Object(u.a)(W,2),J=G[0],H=G[1],K=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),e.next=3,h.a.get(C("/userColors/ifUserColorsExist/".concat(t._id)));case 3:if(!e.sent.data){e.next=9;break}return e.next=7,h.a.put(C("/userColors/updateUserColors"),{idOfUser:t._id,backgroundColor1:b,backgroundColor2:v,backgroundColor3:N,backgroundColor4:_});case 7:e.next=11;break;case 9:return e.next=11,h.a.post(C("/userColors/createUserColors"),{idOfUser:t._id,backgroundColor1:b,backgroundColor2:v,backgroundColor3:N,backgroundColor4:_});case 11:localStorage.setItem("colors",JSON.stringify({backgroundColor1:b,backgroundColor2:v,backgroundColor3:N,backgroundColor4:_})),r({backgroundColor1:b,backgroundColor2:v,backgroundColor3:N,backgroundColor4:_}),A(!1),z(!0);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(!0),localStorage.removeItem("colors"),r({backgroundColor1:"#D88100",backgroundColor2:"#F4F4F4",backgroundColor3:"black",backgroundColor4:"#ffffff"}),e.next=5,h.a.get(C("/userColors/ifUserColorsExist/".concat(t._id)));case 5:if(n=e.sent,e.t0=n.data,!e.t0){e.next=10;break}return e.next=10,h.a.delete(C("/userColors/deleteUserColors/".concat(t._id)));case 10:q(!1),H(!0),Y();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){O("#D88100"),g("#F4F4F4"),w("black"),U("#ffffff")};return Object(f.jsxs)("div",{className:"ChangeColors",children:[Object(f.jsx)("hr",{className:"lineNewPost",style:{backgroundColor:a,width:"100%"}}),Object(f.jsx)("h3",{style:{color:a},children:"Uprav barvy tv\xe9 soci\xe1ln\xed s\xedt\u011b"}),Object(f.jsx)(Ee,{setNoError:z,setNoErrorDefaultButton:H,text:"Hlavn\xed barva",color:b,setColor:O}),Object(f.jsx)(Ee,{setNoError:z,setNoErrorDefaultButton:H,text:"Sekund\xe1rn\xed barva",color:v,setColor:g}),Object(f.jsx)(Ee,{setNoError:z,setNoErrorDefaultButton:H,text:"barva pro halvn\xed text",color:N,setColor:w}),Object(f.jsx)(Ee,{setNoError:z,setNoErrorDefaultButton:H,text:"barva pro sekund\xe1rn\xed text",color:_,setColor:U}),Object(f.jsx)("button",{onClick:K,className:"inputImgAddPost opacity",style:{backgroundColor:a,color:o,margin:"15px 0px 0px 0px"},children:M?Object(f.jsx)(P.a,{color:o,size:10}):L?Object(f.jsx)("div",{className:"correctAnimation",children:Object(f.jsx)(he.a,{size:15})}):"ulo\u017eit nastaven\xed"}),Object(f.jsx)("span",{style:{marginTop:"15px",color:c},children:"nebo"}),Object(f.jsx)("button",{onClick:Q,className:"inputImgAddPost opacity",style:{backgroundColor:a,color:o,margin:"15px 0px 0px 0px"},children:B?Object(f.jsx)(P.a,{color:o,size:10}):J?Object(f.jsx)("div",{className:"correctAnimation",children:Object(f.jsx)(he.a,{size:15})}):"vr\xe1tit do p\u016fvodn\xedho stavu"})]})},Me=function(){var e=Object(n.useContext)(p),t=e.user,r=e.socket,a=e.backgroundColor1,s=e.changeCoverImg,c=function(){var e=Object(l.a)(i.a.mark((function e(r,n,a,c,u){var d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),console.log(c),d="users/"+t.username+"/"+r.name+Math.floor(Date.now()/1e3),e.next=5,J(r,d).then(Object(l.a)(i.a.mark((function e(){var r,l,j,b,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload img succesfully"),e.next=3,H(d);case 3:return r=e.sent,e.next=6,o(r,c,u);case 6:if(!t.idOrUrlOfCoverPicture){e.next=12;break}return e.next=9,h.a.post(C("/images/getImgByUrl"),{url:t.idOrUrlOfCoverPicture});case 9:return l=e.sent,e.next=12,h.a.put(C("/users/addPhoto"),{id:t._id,idOfImg:l.data._id});case 12:return e.next=14,h.a.put(C("/users/setNewCoverPicture"),{id:t._id,imgUrl:r});case 14:s(r),j=localStorage.getItem("user"),(b=JSON.parse(j)).idOrUrlOfCoverPicture=r,f=JSON.stringify(b),localStorage.setItem("user",f),n(!0),a(!1);case 22:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),o=function(){var e=Object(l.a)(i.a.mark((function e(r,n,a){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={userId:t._id,urlOfImg:r,newPicture:!0},e.next=4,h.a.post(C("/posts/addPost"),s);case 4:return c=e.sent,e.next=7,h.a.post(C("/images/createNew"),{url:r,idOfPost:c.data._id});case 7:n.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t._id,6,null,c.data._id,"p\u0159idal/a novou fotku");case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,n){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("hr",{className:"lineNewPost",style:{backgroundColor:a,width:"100%"}}),Object(f.jsxs)("div",{className:"settingsChangeCoverPicture",children:[Object(f.jsx)("h3",{style:{color:a},children:"P\u0159idej novou fotku na pozad\xed"}),Object(f.jsx)("img",{src:t.idOrUrlOfCoverPicture,alt:"",referrerPolicy:"no-referrer",style:{width:"80%",height:"auto"}}),Object(f.jsx)(ve,{aspect:7.5,rect:!0,socket:r,saveImg:c})]})]})},Ae=function(){var e=Object(n.useContext)(p),t=e.user,r=e.backgroundColor1,a=e.changeProfileImg,s=function(){var e=Object(l.a)(i.a.mark((function e(r,n,s,o,u){var d;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),console.log(o),d="users/"+t.username+"/"+r.name+Math.floor(Date.now()/1e3),e.next=5,J(r,d).then(Object(l.a)(i.a.mark((function e(){var r,l,j,b,f;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("upload img succesfully"),e.next=3,H(d);case 3:return r=e.sent,e.next=6,c(r,o,u);case 6:if(!t.idOrUrlOfProfilePicture){e.next=12;break}return e.next=9,h.a.post(C("/images/getImgByUrl"),{url:t.idOrUrlOfProfilePicture});case 9:return l=e.sent,e.next=12,h.a.put(C("/users/addPhoto"),{id:t._id,idOfImg:l.data._id});case 12:return e.next=14,h.a.put(C("/users/setNewProfilePicture"),{id:t._id,imgUrl:r});case 14:a(r),j=localStorage.getItem("user"),(b=JSON.parse(j)).idOrUrlOfProfilePicture=r,f=JSON.stringify(b),localStorage.setItem("user",f),s(!1),n(!0);case 22:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a,s){return e.apply(this,arguments)}}(),c=function(){var e=Object(l.a)(i.a.mark((function e(r,n,a){var s,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s={userId:t._id,urlOfImg:r,newPicture:!0},e.next=4,h.a.post(C("/posts/addPost"),s);case 4:return c=e.sent,e.next=7,h.a.post(C("/images/createNew"),{url:r,idOfPost:c.data._id});case 7:n.forEach(function(){var e=Object(l.a)(i.a.mark((function e(t,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t._id,6,null,c.data._id,"p\u0159idal/a novou fotku");case 2:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r,n){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"settingsChangeProfilePicture",children:[Object(f.jsx)("h3",{style:{color:r},children:"P\u0159idej novou profilovou fotku"}),Object(f.jsx)("img",{src:t.idOrUrlOfProfilePicture?t.idOrUrlOfProfilePicture:"/img/anonymous.png",alt:"",referrerPolicy:"no-referrer",style:{width:"120px",height:"120px",borderRadius:"50%"}}),Object(f.jsx)(ve,{aspect:1,rect:!1,saveImg:s})]})},Fe=function(){var e=Object(n.useContext)(p),t=e.user,r=e.backgroundColor1,a=e.backgroundColor2,s=e.backgroundColor4,c=Object(n.useState)(!1),o=Object(u.a)(c,2),d=o[0],j=o[1],b=Object(n.useState)([]),O=Object(u.a)(b,2),x=O[0],m=O[1],v=Object(n.useState)(!1),g=Object(u.a)(v,2),k=g[0],y=g[1],N=Object(n.useRef)(),w=Object(n.useRef)(),S=Object(n.useRef)();Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/userinfos/getUserInfo/".concat(t._id)));case 2:r=e.sent,m(r.data),console.log(r.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t._id]);var I=function(){var e=Object(l.a)(i.a.mark((function e(){var r,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.next=3,h.a.post(C("/userInfos/ifInfoExist"),{id:t._id});case 3:if(r=e.sent,n={idOfUser:t._id,desc:N.current.value,from:w.current.value,relationShip:S.current.value},!r.data){e.next=10;break}return e.next=8,h.a.put(C("/userInfos/updateInfo"),n).then((function(){j(!1),y(!0)}));case 8:e.next=13;break;case 10:return console.log(n),e.next=13,h.a.post(C("/userInfos/createUserInfo"),n).then((function(){j(!1),y(!0)}));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){m(null),y(!1)};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("hr",{className:"lineNewPost",style:{backgroundColor:r,width:"100%"}}),Object(f.jsxs)("div",{className:"SetUserInfo",children:[Object(f.jsx)("h3",{style:{color:r},children:"Info"}),Object(f.jsx)("input",{type:"text",className:"inputInfo",style:{backgroundColor:a,color:r},value:x&&x.desc,onChange:_,placeholder:"popis...",ref:N}),Object(f.jsx)("input",{type:"text",className:"inputInfo",style:{backgroundColor:a,color:r},value:x&&x.from,onChange:_,placeholder:"b\xfddl\xedte v...",ref:w}),Object(f.jsxs)("select",{className:"inputInfo",style:{backgroundColor:a,color:r},ref:S,onChange:_,value:x&&x.relationShip,children:[Object(f.jsx)("option",{value:"",children:"-"}),Object(f.jsx)("option",{value:"nezadan\xfd/\xe1",children:"nezadan\xfd/\xe1"}),Object(f.jsx)("option",{value:"zadan\xfd/\xe1",children:"zadan\xfd/\xe1"}),Object(f.jsx)("option",{value:"zasnouben\xfd/\xe1",children:"zasnouben\xfd/\xe1"}),Object(f.jsx)("option",{value:"\u017eenat\xfd/\xe1",children:"\u017eenat\xfd/\xe1"}),Object(f.jsx)("option",{value:"rozveden\xfd/\xe1",children:"rozveden\xfd/\xe1"})]}),Object(f.jsx)("button",{className:"buttonSetInfo opacity",onClick:I,style:{backgroundColor:r,color:s},children:d?Object(f.jsx)(P.a,{color:s,size:10}):k?Object(f.jsx)("div",{className:"correctAnimation",children:Object(f.jsx)(he.a,{size:15})}):"ulo\u017eit nastaven\xed"})]})]})},De=function(){return Object(f.jsxs)("div",{className:"ProfileSettings",children:[Object(f.jsx)(V,{}),Object(f.jsxs)("div",{className:"ProfileSettingsContainer",children:[Object(f.jsx)(Ae,{}),Object(f.jsx)(Me,{}),Object(f.jsx)(Fe,{}),Object(f.jsx)(Re,{})]}),Object(f.jsx)(fe,{})]})},Le=r(121),ze=function(e){var t,r,a=e.message,s=e.userOfChat,c=e.idOfReadedMessage,o=Object(n.useContext)(p),d=o.user,j=o.backgroundColor1,b=o.backgroundColor2,O=o.backgroundColor3,x=Object(n.useState)(),m=Object(u.a)(x,2),v=m[0],g=m[1],y=Object(n.useState)((null===a||void 0===a||null===(t=a.idOfLikes)||void 0===t?void 0:t.length)||[]),N=Object(u.a)(y,2),S=N[0],I=N[1],_=Object(n.useState)(null===a||void 0===a||null===(r=a.idOfLikes)||void 0===r?void 0:r.includes(d._id)),P=Object(u.a)(_,2),U=P[0],E=P[1];Object(n.useEffect)((function(){g(new Date(a.createdAt))}),[a]);var R=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(U?function(e){return e-1}:function(e){return e+1}),E(!U),e.next=4,h.a.put(C("/messages/addOrRemoveLike/".concat(a._id)),{userId:d._id});case 4:console.log("hotovo");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a.idOfSender===d._id?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(le.a.div,{onDoubleClick:R,className:c===a._id?"marginBottom myMessage":"myMessage",initial:{scale:.2},animate:{scale:1},children:Object(f.jsxs)("div",{className:"myMessageTimeMessage",children:[a.text&&Object(f.jsx)("div",{className:"textInMessage",style:{backgroundColor:j},children:a.text}),a.urlOfVoice&&Object(f.jsx)("audio",{controls:!0,src:a.urlOfVoice}),a.urlOfImg&&Object(f.jsx)("img",{className:"imgInMessage",src:a.urlOfImg}),a.urlOfVideo&&Object(f.jsx)("video",{className:"videoInMessage",controls:!0,src:a.urlOfVideo}),Object(f.jsxs)("span",{style:{textAlign:"right"},children:[(Date.now()-(null===v||void 0===v?void 0:v.getTime()))/36e5>24&&"".concat(null===v||void 0===v?void 0:v.getDate(),".").concat(null===v||void 0===v?void 0:v.getMonth(),".")," ",null===v||void 0===v?void 0:v.getHours(),":",null===v||void 0===v?void 0:v.getMinutes()]}),S>0&&(U?Object(f.jsxs)("div",{className:"likesOfMessage",children:[Object(f.jsx)(k.b,{style:{cursor:"pointer"},className:"scaled icon",onClick:R}),S]}):Object(f.jsxs)("div",{className:"likesOfMessage",children:[Object(f.jsx)(k.c,{className:"scaled icon",style:{cursor:"pointer"},onClick:R}),S]}))]})}),!a.readed&&Object(f.jsx)("div",{className:"profileImgReadedContainer",children:Object(f.jsx)(w.b,{className:"profileImgInMessageReaded"})}),c===a._id&&Object(f.jsx)("div",{className:"profileImgReadedContainer",children:Object(f.jsx)("img",{className:"profileImgInMessageReaded alwaysRight",src:(null===s||void 0===s?void 0:s.idOrUrlOfProfilePicture)||"/img/anonymous.png",alt:""})})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)(le.a.div,{onDoubleClick:R,className:c===a._id?"marginBottom yourMessage":"yourMessage",initial:{scale:.2},animate:{scale:1},children:[Object(f.jsx)("img",{className:"profileImgInMessage",src:(null===s||void 0===s?void 0:s.idOrUrlOfProfilePicture)||"/img/anonymous.png",alt:""}),Object(f.jsxs)("div",{className:"yourMessageTimeMessage",children:[a.text&&Object(f.jsx)("div",{className:"textInMessage",style:{backgroundColor:b,color:O},children:a.text}),a.urlOfVoice&&Object(f.jsx)("audio",{controls:!0,src:a.urlOfVoice}),a.urlOfImg&&Object(f.jsx)("img",{className:"imgInMessage",src:a.urlOfImg}),a.urlOfVideo&&Object(f.jsx)("video",{className:"videoInMessage",controls:!0,src:a.urlOfVideo}),Object(f.jsxs)("span",{style:{color:j},children:[(Date.now()-(null===v||void 0===v?void 0:v.getTime()))/36e5>24&&"".concat(null===v||void 0===v?void 0:v.getDate(),".").concat(null===v||void 0===v?void 0:v.getMonth(),".")," ",null===v||void 0===v?void 0:v.getHours(),":",null===v||void 0===v?void 0:v.getMinutes()]}),S>0&&(U?Object(f.jsxs)("div",{className:"likesOfMessage",children:[Object(f.jsx)(k.b,{style:{cursor:"pointer"},className:"scaled icon",onClick:R}),S]}):Object(f.jsxs)("div",{className:"likesOfMessage",children:[Object(f.jsx)(k.c,{className:"scaled icon",style:{cursor:"pointer"},onClick:R}),S]}))]})]}),c===a._id&&Object(f.jsx)("div",{className:"profileImgReadedContainer",children:Object(f.jsx)("img",{className:"profileImgInMessageReaded alwaysRight",src:(null===s||void 0===s?void 0:s.idOrUrlOfProfilePicture)||"/img/anonymous.png",alt:""})})]})},Ve=r(79),Te=function(e){var t=e.setUrlOfVoice,r=Object(n.useContext)(p),a=r.backgroundColor1,s=r.backgroundColor4,c=Object(n.useState)(),o=Object(u.a)(c,2),d=o[0],j=o[1],b=function(){var e=Object(l.a)(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(r),t(r);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"VoiceMessage",children:[Object(f.jsx)(Ve.b,{state:d,onStop:b,className:"audioRecorder"}),"start"==d?Object(f.jsx)("button",{className:"buttonsForVariantsMessage opacity",style:{color:s,backgroundColor:a},onClick:function(){j(Ve.a.STOP)},children:"stop"}):Object(f.jsx)("button",{className:"buttonsForVariantsMessage opacity",style:{color:s,backgroundColor:a},onClick:function(){j(Ve.a.START)},children:Object(f.jsx)($.d,{className:"reactIcon"})})]})},Be=function(e){var t=e.userOfChat,r=e.idOfChat,a=e.setChats,s=e.chats,c=Object(n.useContext)(p),o=c.user,j=c.setNumberOfNewMessages,b=c.socket,O=c.onlineFriends,x=c.backgroundColor1,m=c.backgroundColor2,v=c.backgroundColor4,g=Object(d.g)(),k=Object(n.useState)(!1),y=Object(u.a)(k,2),S=y[0],I=y[1],_=Object(n.useState)(),U=Object(u.a)(_,2),R=U[0],M=U[1],A=Object(n.useState)([]),F=Object(u.a)(A,2),D=F[0],L=F[1],z=Object(n.useState)(),V=Object(u.a)(z,2),T=V[0],B=V[1],q=Object(n.useState)(""),W=Object(u.a)(q,2),G=W[0],Q=W[1],Y=Object(n.useState)(!1),X=Object(u.a)(Y,2),te=X[0],ne=X[1],ae=Object(n.useState)(null),se=Object(u.a)(ae,2),ce=se[0],oe=se[1],ie=Object(n.useState)(null),le=Object(u.a)(ie,2),ue=le[0],de=le[1],be=Object(n.useState)(null),fe=Object(u.a)(be,2),Oe=fe[0],pe=fe[1];Object(n.useEffect)((function(){L([]);var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.get(C("/messages/getAllMessages/".concat(r)));case 2:for(t=e.sent,n=t.data,a=0;a<n.length;a++)n[a].idOfReciever===(null===o||void 0===o?void 0:o._id)&&(n[a].readed=!0);L(n),ve();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r]),Object(n.useEffect)((function(){for(var e=0;e<D.length;e++){if(!D[e].readed&&D[e].idOfSender===(null===o||void 0===o?void 0:o._id)){var n,a;B(null===(n=D[e-1])||void 0===n?void 0:n._id),null===b||void 0===b||b.emit("setReadedMessage",{idOfMessage:null===(a=D[e-1])||void 0===a?void 0:a._id,idOfUser:null===t||void 0===t?void 0:t._id,idOfChat:r});break}e==D.length-1&&(B(D[e]._id),null===b||void 0===b||b.emit("setReadedMessage",{idOfMessage:D[e]._id,idOfUser:null===t||void 0===t?void 0:t._id,idOfChat:r}))}}),[D]),Object(n.useEffect)((function(){xe()}),[t]);var xe=function(){var e=Object(l.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.put(C("/messages/setReadedAllMessage"),{idOfChat:r,idOfSender:null===t||void 0===t?void 0:t._id});case 2:return null===b||void 0===b||b.emit("setReadedMessage",{idOfMessage:null,idOfUser:null===t||void 0===t?void 0:t._id,idOfChat:r}),e.next=5,h.a.post(C("/messages/getNumberOfUnreadedMessagesInMessenger"),{myId:o._id});case 5:n=e.sent,j(n.data);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){null===b||void 0===b||b.on("getMessage",function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=window.location.href.split("/")[5],t.idOfChat!==r){e.next=4;break}return e.next=4,xe();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[b,t]),Object(n.useEffect)((function(){M(null===O||void 0===O?void 0:O.some((function(e){return e.userId===(null===t||void 0===t?void 0:t._id)})))}),[O,t,r]),Object(n.useEffect)((function(){null===b||void 0===b||b.on("getMessage",function(){var e=Object(l.a)(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=window.location.href.split("/")[5],t.idOfChat===r&&(t.readed=!0,L((function(e){return[].concat(Object(E.a)(e),[t])})),null===b||void 0===b||b.emit("setReadedMessage",{idOfMessage:t._id,idOfUser:t.idOfSender,idOfChat:t.idOfChat}),ve());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[b]),Object(n.useEffect)((function(){null===b||void 0===b||b.on("getReadedMessage",(function(e){var t=window.location.href.split("/")[5];e.idOfChat===t&&L((function(t){for(var r,n=t,a=0;a<n.length&&(n[a].readed=!0,n[a]._id!==e._id||!e._id);a++);return B(e._id||(null===(r=n[n.length-1])||void 0===r?void 0:r._id)),n}))}))}),[b]);var me=function(){var e=Object(l.a)(i.a.mark((function e(){var n,a,s,c,l,u,d,j;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!=G||ce||Oe||ue){e.next=3;break}return I(!0),e.abrupt("return");case 3:if(I(!1),ne(!0),e.t0=ce,!e.t0){e.next=10;break}return e.next=9,Ce(ce.blob);case 9:e.t0=e.sent;case 10:if(n=e.t0,e.t1=n,!e.t1){e.next=16;break}return e.next=15,H(n);case 15:e.t1=e.sent;case 16:if(a=e.t1,e.t2=Oe,!e.t2){e.next=22;break}return e.next=21,Ce(Oe);case 21:e.t2=e.sent;case 22:if(s=e.t2,e.t3=s,!e.t3){e.next=28;break}return e.next=27,H(s);case 27:e.t3=e.sent;case 28:if(c=e.t3,e.t4=ue,!e.t4){e.next=34;break}return e.next=33,Ce(ue);case 33:e.t4=e.sent;case 34:if(l=e.t4,e.t5=l,!e.t5){e.next=40;break}return e.next=39,H(l);case 39:e.t5=e.sent;case 40:if(u=e.t5,d=[],"0"!=r){e.next=58;break}return e.next=45,h.a.post(C("/chats/createChat"),{usersId:[t._id,o._id],lastMessage:G,lastMessageTime:Date.now(),lastIdOfUser:o._id});case 45:return d=e.sent,e.next=48,h.a.post(C("/messages/addMessage"),{idOfSender:o._id,idOfReciever:t._id,idOfChat:d.data._id,text:G,urlOfVoice:a,urlOfImg:c,urlOfVideo:u});case 48:j=e.sent,L((function(e){return[].concat(Object(E.a)(e),[j.data])})),ve(),Q(""),oe(null),pe(null),de(null),ne(!1),e.next=71;break;case 58:return e.next=60,h.a.post(C("/messages/addMessage"),{idOfSender:o._id,idOfReciever:t._id,idOfChat:r,text:G,urlOfVoice:a,urlOfImg:c,urlOfVideo:u});case 60:return j=e.sent,L((function(e){return[].concat(Object(E.a)(e),[j.data])})),ve(),Q(""),pe(null),oe(null),de(null),ne(!1),e.next=70,h.a.put(C("/chats/setLastMessage"),{id:r,lastMessage:G,lastMessageTime:Date.now(),readed:!1,lastIdOfUser:o._id});case 70:he();case 71:null===b||void 0===b||b.emit("sendMessage",{idOfMessage:j.data._id,idOfSender:o._id,idOfReciever:t._id,idOfChat:r,text:G,urlOfVoice:a,urlOfImg:c,urlOfVideo:u}),"0"==r&&g.push("/messenger/".concat(t._id,"/").concat(d.data._id));case 73:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){var e=Object(E.a)(s);e.filter((function(e){return e._id===r}))[0].lastMessageTime=Date.now(),e.filter((function(e){return e._id===r}))[0].readed=!0,e.filter((function(e){return e._id===r}))[0].readed=!0,a(e)},ve=function(){L((function(e){return Object(E.a)(e.sort((function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)})))})),ge()},ge=function(){var e=document.getElementsByClassName("messagesContainer")[0];try{e.scrollTop=null===e||void 0===e?void 0:e.scrollHeight}catch(t){console.log(t)}},Ce=function(){var e=Object(l.a)(i.a.mark((function e(t,r){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="messenger/"+o.username+"/"+(r?t.size:t.name)+Math.floor(Date.now()/1e3),e.next=3,J(t,n).then(Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("file message upload succesfully");case 1:case"end":return e.stop()}}),e)}))));case 3:return e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{className:"Chat",children:[Object(f.jsxs)("div",{className:"userChat",style:{backgroundColor:v},children:[Object(f.jsxs)("div",{className:"mainDivImgChat",children:[Object(f.jsx)("img",{src:(null===t||void 0===t?void 0:t.idOrUrlOfProfilePicture)||"/img/anonymous.png",className:"imgOfUserChat",alt:""}),R&&Object(f.jsx)("div",{className:"online",style:{border:"2px solid "+v}})]}),Object(f.jsx)("span",{children:null===t||void 0===t?void 0:t.username})]}),Object(f.jsx)(N.b,{to:"/messenger/".concat(o._id,"/0"),className:"backChatArrow",children:Object(f.jsx)($.b,{style:{color:x}})}),Object(f.jsx)("div",{className:"messagesContainer",children:Object(f.jsx)(je.a,{initial:!1,onExitComplete:function(){return null},children:null===D||void 0===D?void 0:D.map((function(e){return Object(f.jsx)(ze,{idOfReadedMessage:T,message:e,userOfChat:t},e._id)}))})}),Object(f.jsxs)("div",{className:"addMessageContainer",onKeyPress:function(e){return"Enter"==e.key&&me(null)},children:[Object(f.jsxs)("div",{className:"leftDiv",children:[Object(f.jsxs)("div",{className:"actionsButton",children:[Object(f.jsx)(Te,{setUrlOfVoice:oe}),Object(f.jsx)(re,{setVideoFile:de}),Object(f.jsx)(ee,{setPhotoFile:pe})]}),Oe||ce||ue?Object(f.jsxs)("div",{className:"smallExampleDiv",children:[Object(f.jsxs)("div",{className:"smallExampleMainContainer",children:[Oe&&Object(f.jsxs)("div",{className:"smallExampleContainer",children:[Object(f.jsx)("img",{className:"smallExample",src:URL.createObjectURL(Oe),alt:""}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(){pe(null)}})]}),ue&&Object(f.jsxs)("div",{className:"smallVoiceExampleContainer",children:[Object(f.jsx)("video",{className:"videoSmallExample",controls:!0,src:URL.createObjectURL(ue)}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(){de(null)}})]}),ce&&Object(f.jsxs)("div",{className:"smallVoiceExampleContainer",children:[Object(f.jsx)("audio",{className:"audioSmallExample",controls:!0,src:ce.url}),Object(f.jsx)(K.a,{className:"removeImgShow scaled",onClick:function(){oe(null)}})]})]}),Object(f.jsx)("input",{type:"text",placeholder:"zadej text...",onChange:function(e){return Q(e.target.value)},value:G,style:{width:"auto"},className:S?"error inputForTextInMessenger":"noError inputForTextInMessenger"})]}):Object(f.jsx)("input",{type:"text",placeholder:"zadej text...",onChange:function(e){return Q(e.target.value)},value:G,className:S?"error inputForTextInMessenger":"noError inputForTextInMessenger"})]}),Object(f.jsx)(Z,{setValOfText:Q}),Object(f.jsx)("button",{style:{backgroundColor:x},className:"buttonsForVariantsMessage opacity",onClick:function(){return me(null)},children:te?Object(f.jsx)(P.a,{color:m,size:10}):Object(f.jsx)(w.c,{style:{fontSize:"19px"}})})]})]})},qe=function(e){var t=e.users,r=e.chat,a=e.idOfActiveChat,s=e.chats,c=e.setChats;Object(A.register)("myLanguage",ae);var o=Object(n.useContext)(p),j=o.user,b=o.socket,O=o.numberOfNewMessages,x=o.setNumberOfNewMessages,m=o.onlineFriends,v=o.backgroundColor1,g=o.backgroundColor2,k=o.backgroundColor4,y=Object(n.useState)(null),N=Object(u.a)(y,2),w=N[0],S=N[1],I=Object(n.useState)(),_=Object(u.a)(I,2),P=_[0],U=_[1],R=Object(n.useState)(),M=Object(u.a)(R,2),F=M[0],D=M[1],L=Object(n.useState)(0),z=Object(u.a)(L,2),V=z[0],T=z[1],B=Object(d.g)();Object(n.useEffect)((function(){var e=null===t||void 0===t?void 0:t.filter((function(e){return null===r||void 0===r?void 0:r.usersId.includes(null===e||void 0===e?void 0:e._id)}))[0];U(null===m||void 0===m?void 0:m.some((function(t){return(null===t||void 0===t?void 0:t.userId)===(null===e||void 0===e?void 0:e._id)}))),S(e)}),[t,r,m]),Object(n.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.post(C("/messages/getNumberOfUnreadedMessages"),{idOfChat:r._id,myId:j._id});case 2:t=e.sent,T(t.data.length);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(n.useEffect)((function(){null===b||void 0===b||b.on("getMessage",function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(null===s||void 0===s?void 0:s.some((function(e){return(null===e||void 0===e?void 0:e._id)==t.idOfChat})))){e.next=15;break}if((n=Object(E.a)(s)).filter((function(e){return e._id===t.idOfChat}))[0].lastMessage=t.text,n.filter((function(e){return e._id===t.idOfChat}))[0].lastIdOfUser=t.idOfSender,t.idOfChat!==window.location.href.split("/")[5]||t.idOfChat!==r._id){e.next=12;break}return n.filter((function(e){return e._id===t.idOfChat}))[0].readed=!0,T(0),c(n),e.next=10,h.a.put(C("/chats/updateReaded"),{id:r._id,readed:!0});case 10:e.next=15;break;case 12:t.idOfChat===r._id&&(n.filter((function(e){return e._id===t.idOfChat}))[0].readed=!1),t.idOfReciever===j._id&&r._id===t.idOfChat&&T((function(e){return e+1})),c(n);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[b]),Object(n.useEffect)((function(){D(s.filter((function(e){return e._id===r._id}))[0])}),[r,s]);var q=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:B.push("/messenger/".concat(null===w||void 0===w?void 0:w._id,"/").concat(r._id));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(l.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T(0),x(O-V),(t=Object(E.a)(s)).filter((function(e){return e._id===r._id}))[0].readed){e.next=8;break}return t.filter((function(e){return e._id===r._id}))[0].readed=!0,c(t),e.next=8,h.a.put(C("/chats/updateReaded"),{id:r._id,readed:!0});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{onClick:q,className:"userChatMain",style:(null===F||void 0===F?void 0:F._id)===a?{backgroundColor:g}:{backgroundColor:"white"},children:[Object(f.jsxs)("div",{className:"userChatContainer",children:[Object(f.jsxs)("div",{className:"mainDivImgChat",children:[Object(f.jsx)("img",{src:(null===w||void 0===w?void 0:w.idOrUrlOfProfilePicture)||"/img/anonymous.png",className:"imgOfUserChat",alt:""}),P&&Object(f.jsx)("div",{className:"online",style:{border:"2px solid "+k}})]}),Object(f.jsxs)("div",{className:"InfoAboutChat",children:[Object(f.jsx)("span",{children:null===w||void 0===w?void 0:w.username}),Object(f.jsxs)("div",{style:{display:"flex"},children:[Object(f.jsx)("span",{className:(null===F||void 0===F?void 0:F.lastIdOfUser)!==j._id?(null===F||void 0===F?void 0:F.readed)?"lastMessage":"lastMessage unReaded":"lastMessage",children:(null===F||void 0===F?void 0:F.lastMessage.length)>25?(null===F||void 0===F?void 0:F.lastMessage.slice(0,20))+"...":null===F||void 0===F?void 0:F.lastMessage}),Object(f.jsx)("span",{children:Object(A.format)(null===F||void 0===F?void 0:F.lastMessageTime,"myLanguage")})]})]})]}),0!==V&&Object(f.jsx)("div",{className:"numberOfNewMessages",style:{backgroundColor:v},children:Object(f.jsx)("span",{children:V})})]})},We=function(){var e=Object(n.useContext)(p).user,t=Object(d.h)(),r=t.idOfUser,a=t.idOfChat,s=Object(n.useState)(null),c=Object(u.a)(s,2),o=c[0],j=c[1],b=Object(n.useState)([]),O=Object(u.a)(b,2),x=O[0],m=O[1],v=Object(n.useState)(null),g=Object(u.a)(v,2),k=g[0],y=g[1],N=Object(n.useState)(null),w=Object(u.a)(N,2),S=w[0],I=w[1],_=Object(n.useState)(),P=Object(u.a)(_,2),U=P[0],R=P[1];Object(n.useEffect)((function(){var e=null===o||void 0===o?void 0:o.sort((function(e,t){return new Date(t.lastMessageTime)-new Date(e.lastMessageTime)}));m(e)}),[o]),Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(i.a.mark((function t(){var r,n,a,s,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h.a.get("/chats/getAllChats/".concat(null===e||void 0===e?void 0:e._id));case 2:return r=t.sent,n=r.data,a=[],n.forEach((function(t){2===t.usersId.length&&(t.usersId[0]===e._id?a.push(t.usersId[1]):a.push(t.usersId[0]))})),s=Object(E.a)(new Set(a)),t.next=9,h.a.post(C("/users/getAllUsersData"),{users:s});case 9:c=t.sent,y(c.data),j(n),m(n);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[a]),Object(n.useEffect)((function(){var t=function(){var t=Object(l.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r===(null===e||void 0===e?void 0:e._id)||(null===k||void 0===k?void 0:k.filter((function(e){return(null===e||void 0===e?void 0:e._id)===r}))[0])){t.next=8;break}return t.next=3,h.a.get(C("/users/getUser/".concat(r)));case 3:n=t.sent,y((function(){return[k,n.data]})),I(n.data),t.next=9;break;case 8:I(null===k||void 0===k?void 0:k.filter((function(e){return(null===e||void 0===e?void 0:e._id)===r}))[0]);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[r]),Object(n.useEffect)((function(){"0"===a&&r!==e._id?null===o||void 0===o||o.forEach((function(e){e.usersId.some((function(e){return e===r}))&&R(e._id)})):R(null)}),[a,o,r]);return Object(f.jsxs)("div",{className:"messengerContainer",children:[Object(f.jsx)(V,{}),Object(f.jsxs)("div",{className:"messengerMain",children:[Object(f.jsxs)("div",{className:r!==e._id?"messengerFriends mobileDiplayNone":"messengerFriends",children:[Object(f.jsx)("input",{type:"text",className:"searchChat",placeholder:"hledej chaty...",onChange:function(e){!function(e){var t=k.filter((function(t){return t.username.toLowerCase().includes(e.toLowerCase())})),r=[];o.forEach((function(e){t.forEach((function(t){e.usersId.includes(t._id)&&r.push(e)}))})),m(r)}(e.target.value)}}),null===x||void 0===x?void 0:x.map((function(e){return Object(f.jsx)(qe,{chats:o,setChats:j,users:k,chat:e,idOfActiveChat:U&&"0"==a?U:a},e._id)}))]}),r!==e._id&&Object(f.jsx)(Be,{chats:o,setChats:j,userOfChat:S,idOfChat:U&&"0"==a?U:a}),r===e._id&&Object(f.jsx)("div",{className:"mobileDiplayNone chatNone",children:Object(f.jsx)("h3",{children:"nen\xed vybr\xe1n \u017e\xe1dn\xfd chat"})})]})]})};var Ge=function(){var e=Object(n.useContext)(p),t=e.user,r=e.setOnlineFriends,a=e.setSocket,s=e.socket;return Object(n.useEffect)((function(){t&&a(Object(Le.a)("ws://localhost:8900"))}),[t]),Object(n.useEffect)((function(){t&&(null===s||void 0===s||s.emit("addUser",t._id),null===s||void 0===s||s.on("getUsers",(function(e){console.log(e),r(e.filter((function(e){return e.userId!==t._id})))})))}),[t,s]),Object(f.jsx)("div",{className:"App",children:Object(f.jsx)(N.a,{children:Object(f.jsxs)(d.d,{children:[Object(f.jsx)(d.b,{exact:!0,path:"/",children:t?Object(f.jsx)(ye,{}):Object(f.jsx)(d.a,{to:"/register"})}),Object(f.jsx)(d.b,{path:"/register",children:t?Object(f.jsx)(d.a,{to:"/"}):Object(f.jsx)(U,{})}),Object(f.jsx)(d.b,{path:"/login",children:t?Object(f.jsx)(d.a,{to:"/"}):Object(f.jsx)(Ne,{})}),Object(f.jsx)(d.b,{path:"/profile/:idOfUser",children:t?Object(f.jsx)(Ue,{}):Object(f.jsx)(d.a,{to:"/register"})}),Object(f.jsx)(d.b,{path:"/settings",children:t?Object(f.jsx)(De,{}):Object(f.jsx)(d.a,{to:"/register"})}),Object(f.jsx)(d.b,{path:"/messenger/:idOfUser/:idOfChat",children:t?Object(f.jsx)(We,{}):Object(f.jsx)(d.a,{to:"/register"})})]})})})};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(x,{children:Object(f.jsx)(Ge,{})})}),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.47eb3719.chunk.js.map